{"failedCount":1,"prefixedPath":"classpath:features\/measures\/measure-01.feature","packageQualifiedName":"features.measures.measure-01","loopIndex":-1,"relativePath":"features\/measures\/measure-01.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14417583,"startTime":1770740030485,"endTime":1770740030499,"millis":14.417583,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def measureId = '1ProportionDateCompStratSDEMulti'"},"stepLog":"11:13:50.002 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• \n11:13:50.011 Karate Environment: dev \n11:13:50.012 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• \n11:13:50.300 FHIR Server: http:\/\/localhost:8000 \n11:13:50.301 Report Type: summary \n11:13:50.398 Test Patients: [\n  \"patient1\",\n  \"patient2\"\n]\n \n11:13:50.412 Save Reports: true \n11:13:50.414 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n \n"},{"result":{"nanos":917331458,"startTime":1770740030500,"endTime":1770740031417,"millis":917.331458,"status":"passed"},"step":{"comments":["# Step 1: Evaluate measure (calls common function)"],"line":9,"prefix":"*","index":0,"text":"def result = call read('classpath:features\/common\/evaluate-measure.feature') { measureId: '#(measureId)' }"},"callResults":[{"prefixedPath":"classpath:features\/common\/evaluate-measure.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2026-02-10 11:13:51 a.m.","durationMillis":838.918627,"callArg":{"measureId":"1ProportionDateCompStratSDEMulti"},"failedCount":0,"packageQualifiedName":"features.common.evaluate-measure","relativePath":"features\/common\/evaluate-measure.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1311833,"startTime":1770740030576,"endTime":1770740030577,"millis":1.311833,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url fhirServerUrl"}},{"result":{"nanos":587959,"startTime":1770740030577,"endTime":1770740030578,"millis":0.587959,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"configure headers = { 'Content-Type': 'application\/fhir+json', 'Accept': 'application\/fhir+json' }"}},{"result":{"nanos":7231666,"startTime":1770740030578,"endTime":1770740030585,"millis":7.231666,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def Base64 = Java.type('java.util.Base64')"}},{"result":{"nanos":27391375,"startTime":1770740030585,"endTime":1770740030612,"millis":27.391375,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def credentials = auth.username + ':' + auth.password"}},{"result":{"nanos":13135583,"startTime":1770740030613,"endTime":1770740030626,"millis":13.135583,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def encodedCredentials = Base64.getEncoder().encodeToString(credentials.getBytes())"}},{"result":{"nanos":20215667,"startTime":1770740030626,"endTime":1770740030646,"millis":20.215667,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"header Authorization = 'Basic ' + encodedCredentials"}},{"result":{"nanos":618167,"startTime":1770740030647,"endTime":1770740030648,"millis":0.618167,"status":"passed"},"step":{"line":13,"prefix":"*","index":0,"text":"def measureId = __arg.measureId"}},{"result":{"nanos":8264834,"startTime":1770740030647,"endTime":1770740030655,"millis":8.264834,"status":"passed"},"step":{"endLine":33,"line":14,"prefix":"*","docString":"{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n    {\n      \"name\": \"periodStart\",\n      \"valueString\": \"#(evaluationParams.periodStart)\"\n    },\n    {\n      \"name\": \"periodEnd\",\n      \"valueString\": \"#(evaluationParams.periodEnd)\"\n    },\n    {\n      \"name\": \"measureId\",\n      \"valueString\": \"#(measureId)\"\n    }\n  ]\n}","index":1,"text":"def evaluationRequest ="}},{"result":{"nanos":1026667,"startTime":1770740030656,"endTime":1770740030657,"millis":1.026667,"status":"passed"},"step":{"line":35,"prefix":"Given","index":2,"text":"path 'Measure', '$evaluate-measures'"}},{"result":{"nanos":1687208,"startTime":1770740030657,"endTime":1770740030659,"millis":1.687208,"status":"passed"},"step":{"line":36,"prefix":"And","index":3,"text":"request evaluationRequest"}},{"result":{"nanos":754353042,"startTime":1770740030659,"endTime":1770740031413,"millis":754.353042,"status":"passed"},"step":{"line":37,"prefix":"When","index":4,"text":"method post"},"stepLog":"11:13:50.869 request:\n1 > POST http:\/\/localhost:8000\/Measure\/$evaluate-measures\n1 > Authorization: Basic YWRtaW46cGFzc3dvcmQ=\n1 > Content-Type: application\/fhir+json; charset=UTF-8\n1 > Accept: application\/fhir+json\n1 > Content-Length: 211\n1 > Host: localhost:8000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n    {\n      \"name\": \"periodStart\",\n      \"valueString\": \"2024-01-01\"\n    },\n    {\n      \"name\": \"periodEnd\",\n      \"valueString\": \"2024-12-31\"\n    },\n    {\n      \"name\": \"measureId\",\n      \"valueString\": \"1ProportionDateCompStratSDEMulti\"\n    }\n  ]\n}\n\n\n11:13:51.412 response time in milliseconds: 539\n1 < 200\n1 < Date: Tue, 10 Feb 2026 16:13:50 GMT\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Powered-By: Smile CDR 2026.02.PRE FHIR REST Endpoint (FHIR Server; FHIR 4.0.1\/R4; HAPI FHIR 8.7.11-SNAPSHOT)\n1 < X-Request-ID: cWVtnGB1IjwnzNH2\n1 < Content-Type: application\/fhir+json;charset=utf-8\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 0\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < X-Frame-Options: DENY\n1 < Transfer-Encoding: chunked\n{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n    {\n      \"name\": \"return\",\n      \"resource\": {\n        \"resourceType\": \"Bundle\",\n        \"id\": \"f12a363f-0cc6-4a7d-bf66-d53aab5d00a5\",\n        \"identifier\": {\n          \"system\": \"urn:ietf:rfc:3986\",\n          \"value\": \"urn:uuid:2f39d916-03c5-48ef-bc3c-db131aea2073\"\n        },\n        \"type\": \"searchset\",\n        \"timestamp\": \"2026-02-10T11:13:51.375-05:00\",\n        \"entry\": [\n          {\n            \"fullUrl\": \"http:\/\/localhost:8000\/MeasureReport\/a3ef6dd9-84b2-4080-b627-4caba7fa7b6e\",\n            \"resource\": {\n              \"resourceType\": \"MeasureReport\",\n              \"id\": \"a3ef6dd9-84b2-4080-b627-4caba7fa7b6e\",\n              \"contained\": [\n                {\n                  \"resourceType\": \"Observation\",\n                  \"id\": \"1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\",\n                  \"extension\": [\n                    {\n                      \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n                      \"extension\": [\n                        {\n                          \"url\": \"measure\",\n                          \"valueCanonical\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"status\": \"final\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"code\": \"F\"\n                      }\n                    ]\n                  },\n                  \"valueInteger\": 2\n                }\n              ],\n              \"extension\": [\n                {\n                  \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n                  \"valueReference\": {\n                    \"extension\": [\n                      {\n                        \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n                        \"valueString\": \"sde-patient-sex\"\n                      }\n                    ],\n                    \"reference\": \"#1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\"\n                  }\n                }\n              ],\n              \"status\": \"complete\",\n              \"type\": \"summary\",\n              \"measure\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\",\n              \"date\": \"2026-02-10T11:13:51-05:00\",\n              \"period\": {\n                \"start\": \"2023-12-31T19:00:00-05:00\",\n                \"end\": \"2024-12-31T18:59:59-05:00\"\n              },\n              \"group\": [\n                {\n                  \"id\": \"group-1\",\n                  \"population\": [\n                    {\n                      \"id\": \"initial-population\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"initial-population\",\n                            \"display\": \"Initial Population\"\n                          }\n                        ]\n                      },\n                      \"count\": 10\n                    },\n                    {\n                      \"id\": \"denominator\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator\",\n                            \"display\": \"Denominator\"\n                          }\n                        ]\n                      },\n                      \"count\": 6\n                    },\n                    {\n                      \"id\": \"denominator-exclusion\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator-exclusion\",\n                            \"display\": \"Denominator-Exclusion\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    },\n                    {\n                      \"id\": \"denominator-exception\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator-exception\",\n                            \"display\": \"Denominator-Exception\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    },\n                    {\n                      \"id\": \"numerator\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"numerator\",\n                            \"display\": \"Numerator\"\n                          }\n                        ]\n                      },\n                      \"count\": 2\n                    },\n                    {\n                      \"id\": \"numerator-exclusion\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"numerator-exclusion\",\n                            \"display\": \"Numerator-Exclusion\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    }\n                  ],\n                  \"measureScore\": {\n                    \"value\": 0.3333333333333333\n                  },\n                  \"stratifier\": [\n                    {\n                      \"id\": \"stratifier-1\",\n                      \"code\": [\n                        {\n                          \"text\": \"Age\"\n                        }\n                      ],\n                      \"stratum\": [\n                        {\n                          \"value\": {\n                            \"text\": \"102\"\n                          },\n                          \"population\": [\n                            {\n                              \"id\": \"initial-population\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"initial-population\",\n                                    \"display\": \"Initial Population\"\n                                  }\n                                ]\n                              },\n                              \"count\": 5\n                            },\n                            {\n                              \"id\": \"denominator\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator\",\n                                    \"display\": \"Denominator\"\n                                  }\n                                ]\n                              },\n                              \"count\": 3\n                            },\n                            {\n                              \"id\": \"denominator-exclusion\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator-exclusion\",\n                                    \"display\": \"Denominator-Exclusion\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"denominator-exception\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator-exception\",\n                                    \"display\": \"Denominator-Exception\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"numerator\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"numerator\",\n                                    \"display\": \"Numerator\"\n                                  }\n                                ]\n                              },\n                              \"count\": 1\n                            },\n                            {\n                              \"id\": \"numerator-exclusion\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"numerator-exclusion\",\n                                    \"display\": \"Numerator-Exclusion\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            }\n                          ],\n                          \"measureScore\": {\n                            \"value\": 0.3333333333333333\n                          }\n                        }\n                      ]\n                    }\n                  ]\n                },\n                {\n                  \"id\": \"group-2\",\n                  \"population\": [\n                    {\n                      \"id\": \"initial-population-2\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"initial-population\",\n                            \"display\": \"Initial Population\"\n                          }\n                        ]\n                      },\n                      \"count\": 10\n                    },\n                    {\n                      \"id\": \"denominator-2\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator\",\n                            \"display\": \"Denominator\"\n                          }\n                        ]\n                      },\n                      \"count\": 6\n                    },\n                    {\n                      \"id\": \"denominator-exclusion-2\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator-exclusion\",\n                            \"display\": \"Denominator-Exclusion\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    },\n                    {\n                      \"id\": \"numerator-2\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"numerator\",\n                            \"display\": \"Numerator\"\n                          }\n                        ]\n                      },\n                      \"count\": 2\n                    }\n                  ],\n                  \"measureScore\": {\n                    \"value\": 0.3333333333333333\n                  }\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n\n\n"},{"result":{"nanos":1629709,"startTime":1770740031413,"endTime":1770740031415,"millis":1.629709,"status":"passed"},"step":{"line":38,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":1064709,"startTime":1770740031415,"endTime":1770740031416,"millis":1.064709,"status":"passed"},"step":{"line":40,"prefix":"*","index":6,"text":"def bundle = response.parameter[0].resource"}},{"result":{"nanos":400208,"startTime":1770740031416,"endTime":1770740031416,"millis":0.400208,"status":"passed"},"step":{"line":41,"prefix":"*","index":7,"text":"def measureReport = bundle.entry[0].resource"}}],"line":12,"description":"","durationMillis":838.918627,"failed":false,"tags":["ignore"],"executorName":"main","name":"Evaluate Measure","startTime":1770740030575,"refId":"[1:12]","endTime":1770740031417,"exampleIndex":-1}],"name":"Common Measure Evaluation Function","passedCount":1}]},{"result":{"nanos":391166,"startTime":1770740031418,"endTime":1770740031418,"millis":0.391166,"status":"passed"},"step":{"line":10,"prefix":"*","index":1,"text":"def actualReport = result.measureReport"}},{"result":{"nanos":2758334,"startTime":1770740031418,"endTime":1770740031421,"millis":2.758334,"status":"passed"},"step":{"line":11,"prefix":"*","index":2,"text":"karate.log('actualReport:', actualReport)"},"stepLog":"11:13:51.420 actualReport: {\n  \"resourceType\": \"MeasureReport\",\n  \"id\": \"a3ef6dd9-84b2-4080-b627-4caba7fa7b6e\",\n  \"contained\": [\n    {\n      \"resourceType\": \"Observation\",\n      \"id\": \"1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\",\n      \"extension\": [\n        {\n          \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n          \"extension\": [\n            {\n              \"url\": \"measure\",\n              \"valueCanonical\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\"\n            }\n          ]\n        }\n      ],\n      \"status\": \"final\",\n      \"code\": {\n        \"coding\": [\n          {\n            \"code\": \"F\"\n          }\n        ]\n      },\n      \"valueInteger\": 2\n    }\n  ],\n  \"extension\": [\n    {\n      \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n      \"valueReference\": {\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n            \"valueString\": \"sde-patient-sex\"\n          }\n        ],\n        \"reference\": \"#1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\"\n      }\n    }\n  ],\n  \"status\": \"complete\",\n  \"type\": \"summary\",\n  \"measure\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\",\n  \"date\": \"2026-02-10T11:13:51-05:00\",\n  \"period\": {\n    \"start\": \"2023-12-31T19:00:00-05:00\",\n    \"end\": \"2024-12-31T18:59:59-05:00\"\n  },\n  \"group\": [\n    {\n      \"id\": \"group-1\",\n      \"population\": [\n        {\n          \"id\": \"initial-population\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"initial-population\",\n                \"display\": \"Initial Population\"\n              }\n            ]\n          },\n          \"count\": 10\n        },\n        {\n          \"id\": \"denominator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator\",\n                \"display\": \"Denominator\"\n              }\n            ]\n          },\n          \"count\": 6\n        },\n        {\n          \"id\": \"denominator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exclusion\",\n                \"display\": \"Denominator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"denominator-exception\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exception\",\n                \"display\": \"Denominator-Exception\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"numerator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator\",\n                \"display\": \"Numerator\"\n              }\n            ]\n          },\n          \"count\": 2\n        },\n        {\n          \"id\": \"numerator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator-exclusion\",\n                \"display\": \"Numerator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        }\n      ],\n      \"measureScore\": {\n        \"value\": 0.3333333333333333\n      },\n      \"stratifier\": [\n        {\n          \"id\": \"stratifier-1\",\n          \"code\": [\n            {\n              \"text\": \"Age\"\n            }\n          ],\n          \"stratum\": [\n            {\n              \"value\": {\n                \"text\": \"102\"\n              },\n              \"population\": [\n                {\n                  \"id\": \"initial-population\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"initial-population\",\n                        \"display\": \"Initial Population\"\n                      }\n                    ]\n                  },\n                  \"count\": 5\n                },\n                {\n                  \"id\": \"denominator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator\",\n                        \"display\": \"Denominator\"\n                      }\n                    ]\n                  },\n                  \"count\": 3\n                },\n                {\n                  \"id\": \"denominator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exclusion\",\n                        \"display\": \"Denominator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"denominator-exception\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exception\",\n                        \"display\": \"Denominator-Exception\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"numerator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator\",\n                        \"display\": \"Numerator\"\n                      }\n                    ]\n                  },\n                  \"count\": 1\n                },\n                {\n                  \"id\": \"numerator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator-exclusion\",\n                        \"display\": \"Numerator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                }\n              ],\n              \"measureScore\": {\n                \"value\": 0.3333333333333333\n              }\n            }\n          ]\n        }\n      ]\n    },\n    {\n      \"id\": \"group-2\",\n      \"population\": [\n        {\n          \"id\": \"initial-population-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"initial-population\",\n                \"display\": \"Initial Population\"\n              }\n            ]\n          },\n          \"count\": 10\n        },\n        {\n          \"id\": \"denominator-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator\",\n                \"display\": \"Denominator\"\n              }\n            ]\n          },\n          \"count\": 6\n        },\n        {\n          \"id\": \"denominator-exclusion-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exclusion\",\n                \"display\": \"Denominator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"numerator-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator\",\n                \"display\": \"Numerator\"\n              }\n            ]\n          },\n          \"count\": 2\n        }\n      ],\n      \"measureScore\": {\n        \"value\": 0.3333333333333333\n      }\n    }\n  ]\n}\n \n"},{"result":{"nanos":4685209,"startTime":1770740031422,"endTime":1770740031427,"millis":4.685209,"status":"passed"},"step":{"line":12,"prefix":"*","index":3,"text":"karate.log('actualReport type:', typeof actualReport)"},"stepLog":"11:13:51.426 actualReport type: object \n"},{"result":{"nanos":1753417,"startTime":1770740031426,"endTime":1770740031428,"millis":1.753417,"status":"passed"},"step":{"comments":["# Save actual report to file for review"],"line":15,"prefix":"*","index":4,"text":"def actualReportFile = 'test-output\/actual-reports\/' + measureId + '-actual.json'"}},{"result":{"nanos":28473625,"startTime":1770740031428,"endTime":1770740031456,"millis":28.473625,"status":"passed"},"step":{"line":16,"prefix":"*","index":5,"text":"karate.write(actualReport, actualReportFile)"},"stepLog":"11:13:51.457 write to file: target\/test-output\/actual-reports\/1ProportionDateCompStratSDEMulti-actual.json\n"},{"result":{"nanos":854458,"startTime":1770740031457,"endTime":1770740031458,"millis":0.854458,"status":"passed"},"step":{"line":17,"prefix":"*","index":6,"text":"karate.log('ðŸ’¾ Actual report saved to:', actualReportFile)"},"stepLog":"11:13:51.458 ðŸ’¾ Actual report saved to: test-output\/actual-reports\/1ProportionDateCompStratSDEMulti-actual.json \n"},{"result":{"nanos":1912958,"startTime":1770740031458,"endTime":1770740031460,"millis":1.912958,"status":"passed"},"step":{"comments":["# Step 2: Load expected report"],"line":20,"prefix":"*","index":7,"text":"def expectedReport = read('classpath:expected-results\/1ProportionDateCompStratSDEMultiResponse.json')"}},{"result":{"nanos":1693333,"startTime":1770740031460,"endTime":1770740031462,"millis":1.693333,"status":"passed"},"step":{"line":21,"prefix":"*","index":8,"text":"karate.log('expectedReport:', expectedReport)"},"stepLog":"11:13:51.461 expectedReport: {\n  \"resourceType\": \"MeasureReport\",\n  \"id\": \"20b68d3b-7455-4fee-ae5a-7fe3303b1ee1\",\n  \"meta\": {\n    \"versionId\": \"2\",\n    \"lastUpdated\": \"2026-01-21T18:42:26.543+00:00\"\n  },\n  \"contained\": [\n    {\n      \"resourceType\": \"Observation\",\n      \"id\": \"b0723e37-12b4-41d2-81fa-96d50892a4a6\",\n      \"extension\": [\n        {\n          \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n          \"extension\": [\n            {\n              \"url\": \"measure\",\n              \"valueCanonical\": \"http:\/\/example.com\/Measure\/ProportionDateBasisComponentStratSDEMulti\"\n            }\n          ]\n        }\n      ],\n      \"status\": \"final\",\n      \"code\": {\n        \"coding\": [\n          {\n            \"code\": \"F\"\n          }\n        ]\n      },\n      \"valueInteger\": 2\n    }\n  ],\n  \"extension\": [\n    {\n      \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n      \"valueReference\": {\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n            \"valueString\": \"sde-patient-sex\"\n          }\n        ],\n        \"reference\": \"#b0723e37-12b4-41d2-81fa-96d50892a4a6\"\n      }\n    },\n    {\n      \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.measureId\",\n      \"valueString\": \"ProportionDateBasisComponentStratSDEMulti\"\n    },\n    {\n      \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.measureTitle\",\n      \"valueString\": \"ProportionDateBasisComponentStratSDEMulti\"\n    },\n    {\n      \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.jobId\",\n      \"valueString\": \"a08f03c3-f7e4-4bfa-8120-00db70c4e0b0\"\n    }\n  ],\n  \"status\": \"complete\",\n  \"type\": \"summary\",\n  \"measure\": \"http:\/\/example.com\/Measure\/ProportionDateBasisComponentStratSDEMulti\",\n  \"date\": \"2026-01-21T18:41:32+00:00\",\n  \"reporter\": {\n    \"reference\": \"Organization\/practice-group-utah\"\n  },\n  \"period\": {\n    \"start\": \"2024-01-11T00:00:00+00:00\",\n    \"end\": \"2024-12-31T23:59:59+00:00\"\n  },\n  \"group\": [\n    {\n      \"id\": \"group-1\",\n      \"population\": [\n        {\n          \"id\": \"initial-population\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"initial-population\",\n                \"display\": \"Initial Population\"\n              }\n            ]\n          },\n          \"count\": 10\n        },\n        {\n          \"id\": \"denominator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator\",\n                \"display\": \"Denominator\"\n              }\n            ]\n          },\n          \"count\": 6\n        },\n        {\n          \"id\": \"denominator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exclusion\",\n                \"display\": \"Denominator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"denominator-exception\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exception\",\n                \"display\": \"Denominator-Exception\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"numerator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator\",\n                \"display\": \"Numerator\"\n              }\n            ]\n          },\n          \"count\": 2\n        },\n        {\n          \"id\": \"numerator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator-exclusion\",\n                \"display\": \"Numerator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        }\n      ],\n      \"measureScore\": {\n        \"value\": 0.3333333333333333\n      },\n      \"stratifier\": [\n        {\n          \"id\": \"stratifier-1\",\n          \"code\": [\n            {\n              \"text\": \"boolean strat not finished\"\n            }\n          ],\n          \"stratum\": [\n            {\n              \"component\": [\n                {\n                  \"code\": {\n                    \"text\": \"boolean strat not finished\"\n                  },\n                  \"value\": {\n                    \"text\": \"true\"\n                  }\n                },\n                {\n                  \"code\": {\n                    \"text\": \"Gender Stratification\"\n                  },\n                  \"value\": {\n                    \"text\": \"F\"\n                  }\n                }\n              ],\n              \"population\": [\n                {\n                  \"id\": \"initial-population\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"initial-population\",\n                        \"display\": \"Initial Population\"\n                      }\n                    ]\n                  },\n                  \"count\": 10\n                },\n                {\n                  \"id\": \"denominator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator\",\n                        \"display\": \"Denominator\"\n                      }\n                    ]\n                  },\n                  \"count\": 6\n                },\n                {\n                  \"id\": \"denominator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exclusion\",\n                        \"display\": \"Denominator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"denominator-exception\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exception\",\n                        \"display\": \"Denominator-Exception\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"numerator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator\",\n                        \"display\": \"Numerator\"\n                      }\n                    ]\n                  },\n                  \"count\": 2\n                },\n                {\n                  \"id\": \"numerator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator-exclusion\",\n                        \"display\": \"Numerator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                }\n              ],\n              \"measureScore\": {\n                \"value\": 0.3333333333333333\n              }\n            }\n          ]\n        }\n      ]\n    },\n    {\n      \"id\": \"group-2\",\n      \"population\": [\n        {\n          \"id\": \"initial-population-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"initial-population\",\n                \"display\": \"Initial Population\"\n              }\n            ]\n          },\n          \"count\": 10\n        },\n        {\n          \"id\": \"denominator-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator\",\n                \"display\": \"Denominator\"\n              }\n            ]\n          },\n          \"count\": 6\n        },\n        {\n          \"id\": \"denominator-exclusion-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exclusion\",\n                \"display\": \"Denominator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"numerator-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator\",\n                \"display\": \"Numerator\"\n              }\n            ]\n          },\n          \"count\": 2\n        }\n      ],\n      \"measureScore\": {\n        \"value\": 0.3333333333333333\n      }\n    }\n  ]\n}\n \n"},{"result":{"nanos":7554250,"startTime":1770740031462,"endTime":1770740031470,"millis":7.55425,"status":"passed"},"step":{"comments":["# Verify reports have groups"],"line":24,"prefix":"*","index":9,"text":"match actualReport.group == '#present'"}},{"result":{"nanos":733083,"startTime":1770740031469,"endTime":1770740031470,"millis":0.733083,"status":"passed"},"step":{"line":25,"prefix":"*","index":10,"text":"match expectedReport.group == '#present'"}},{"result":{"nanos":1739833,"startTime":1770740031470,"endTime":1770740031472,"millis":1.739833,"status":"passed"},"step":{"comments":["# Step 3: Compare reports (calls common function)"],"line":28,"prefix":"*","index":11,"text":"karate.set('actualForComparison', actualReport)"}},{"result":{"nanos":480000,"startTime":1770740031472,"endTime":1770740031472,"millis":0.48,"status":"passed"},"step":{"line":29,"prefix":"*","index":12,"text":"karate.set('expectedForComparison', expectedReport)"}},{"result":{"nanos":111884916,"startTime":1770740031473,"endTime":1770740031585,"millis":111.884916,"status":"passed"},"step":{"line":30,"prefix":"*","index":13,"text":"def comparison = karate.call('classpath:features\/common\/compare-reports.feature', { actual: karate.get('actualForComparison'), expected: karate.get('expectedForComparison'), measureId: measureId })"},"callResults":[{"prefixedPath":"classpath:features\/common\/compare-reports.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2026-02-10 11:13:51 a.m.","durationMillis":86.416039,"callArg":{"actual":{"resourceType":"MeasureReport","id":"a3ef6dd9-84b2-4080-b627-4caba7fa7b6e","contained":[{"resourceType":"Observation","id":"1eca16ea-901c-4a6b-a5e7-f0b5f81e342b","extension":[{"url":"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo","extension":[{"url":"measure","valueCanonical":"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti"}]}],"status":"final","code":{"coding":[{"code":"F"}]},"valueInteger":2}],"extension":[{"url":"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference","valueReference":{"extension":[{"url":"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference","valueString":"sde-patient-sex"}],"reference":"#1eca16ea-901c-4a6b-a5e7-f0b5f81e342b"}}],"status":"complete","type":"summary","measure":"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti","date":"2026-02-10T11:13:51-05:00","period":{"start":"2023-12-31T19:00:00-05:00","end":"2024-12-31T18:59:59-05:00"},"group":[{"id":"group-1","population":[{"id":"initial-population","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"initial-population","display":"Initial Population"}]},"count":10},{"id":"denominator","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator","display":"Denominator"}]},"count":6},{"id":"denominator-exclusion","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator-exclusion","display":"Denominator-Exclusion"}]},"count":0},{"id":"denominator-exception","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator-exception","display":"Denominator-Exception"}]},"count":0},{"id":"numerator","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"numerator","display":"Numerator"}]},"count":2},{"id":"numerator-exclusion","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"numerator-exclusion","display":"Numerator-Exclusion"}]},"count":0}],"measureScore":{"value":0.3333333333333333},"stratifier":[{"id":"stratifier-1","code":[{"text":"Age"}],"stratum":[{"value":{"text":"102"},"population":[{"id":"initial-population","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"initial-population","display":"Initial Population"}]},"count":5},{"id":"denominator","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator","display":"Denominator"}]},"count":3},{"id":"denominator-exclusion","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator-exclusion","display":"Denominator-Exclusion"}]},"count":0},{"id":"denominator-exception","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator-exception","display":"Denominator-Exception"}]},"count":0},{"id":"numerator","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"numerator","display":"Numerator"}]},"count":1},{"id":"numerator-exclusion","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"numerator-exclusion","display":"Numerator-Exclusion"}]},"count":0}],"measureScore":{"value":0.3333333333333333}}]}]},{"id":"group-2","population":[{"id":"initial-population-2","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"initial-population","display":"Initial Population"}]},"count":10},{"id":"denominator-2","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator","display":"Denominator"}]},"count":6},{"id":"denominator-exclusion-2","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator-exclusion","display":"Denominator-Exclusion"}]},"count":0},{"id":"numerator-2","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"numerator","display":"Numerator"}]},"count":2}],"measureScore":{"value":0.3333333333333333}}]},"expected":{"resourceType":"MeasureReport","id":"20b68d3b-7455-4fee-ae5a-7fe3303b1ee1","meta":{"versionId":"2","lastUpdated":"2026-01-21T18:42:26.543+00:00"},"contained":[{"resourceType":"Observation","id":"b0723e37-12b4-41d2-81fa-96d50892a4a6","extension":[{"url":"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo","extension":[{"url":"measure","valueCanonical":"http:\/\/example.com\/Measure\/ProportionDateBasisComponentStratSDEMulti"}]}],"status":"final","code":{"coding":[{"code":"F"}]},"valueInteger":2}],"extension":[{"url":"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference","valueReference":{"extension":[{"url":"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference","valueString":"sde-patient-sex"}],"reference":"#b0723e37-12b4-41d2-81fa-96d50892a4a6"}},{"url":"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.measureId","valueString":"ProportionDateBasisComponentStratSDEMulti"},{"url":"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.measureTitle","valueString":"ProportionDateBasisComponentStratSDEMulti"},{"url":"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.jobId","valueString":"a08f03c3-f7e4-4bfa-8120-00db70c4e0b0"}],"status":"complete","type":"summary","measure":"http:\/\/example.com\/Measure\/ProportionDateBasisComponentStratSDEMulti","date":"2026-01-21T18:41:32+00:00","reporter":{"reference":"Organization\/practice-group-utah"},"period":{"start":"2024-01-11T00:00:00+00:00","end":"2024-12-31T23:59:59+00:00"},"group":[{"id":"group-1","population":[{"id":"initial-population","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"initial-population","display":"Initial Population"}]},"count":10},{"id":"denominator","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator","display":"Denominator"}]},"count":6},{"id":"denominator-exclusion","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator-exclusion","display":"Denominator-Exclusion"}]},"count":0},{"id":"denominator-exception","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator-exception","display":"Denominator-Exception"}]},"count":0},{"id":"numerator","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"numerator","display":"Numerator"}]},"count":2},{"id":"numerator-exclusion","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"numerator-exclusion","display":"Numerator-Exclusion"}]},"count":0}],"measureScore":{"value":0.3333333333333333},"stratifier":[{"id":"stratifier-1","code":[{"text":"boolean strat not finished"}],"stratum":[{"component":[{"code":{"text":"boolean strat not finished"},"value":{"text":"true"}},{"code":{"text":"Gender Stratification"},"value":{"text":"F"}}],"population":[{"id":"initial-population","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"initial-population","display":"Initial Population"}]},"count":10},{"id":"denominator","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator","display":"Denominator"}]},"count":6},{"id":"denominator-exclusion","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator-exclusion","display":"Denominator-Exclusion"}]},"count":0},{"id":"denominator-exception","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator-exception","display":"Denominator-Exception"}]},"count":0},{"id":"numerator","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"numerator","display":"Numerator"}]},"count":2},{"id":"numerator-exclusion","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"numerator-exclusion","display":"Numerator-Exclusion"}]},"count":0}],"measureScore":{"value":0.3333333333333333}}]}]},{"id":"group-2","population":[{"id":"initial-population-2","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"initial-population","display":"Initial Population"}]},"count":10},{"id":"denominator-2","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator","display":"Denominator"}]},"count":6},{"id":"denominator-exclusion-2","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"denominator-exclusion","display":"Denominator-Exclusion"}]},"count":0},{"id":"numerator-2","code":{"coding":[{"system":"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population","code":"numerator","display":"Numerator"}]},"count":2}],"measureScore":{"value":0.3333333333333333}}]},"measureId":"1ProportionDateCompStratSDEMulti"},"failedCount":0,"packageQualifiedName":"features.common.compare-reports","relativePath":"features\/common\/compare-reports.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4398625,"startTime":1770740031494,"endTime":1770740031498,"millis":4.398625,"status":"passed"},"step":{"line":6,"prefix":"*","index":0,"text":"karate.log('__arg:', __arg)"},"stepLog":"11:13:51.499 __arg: {\n  \"actual\": {\n    \"resourceType\": \"MeasureReport\",\n    \"id\": \"a3ef6dd9-84b2-4080-b627-4caba7fa7b6e\",\n    \"contained\": [\n      {\n        \"resourceType\": \"Observation\",\n        \"id\": \"1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\",\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n            \"extension\": [\n              {\n                \"url\": \"measure\",\n                \"valueCanonical\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\"\n              }\n            ]\n          }\n        ],\n        \"status\": \"final\",\n        \"code\": {\n          \"coding\": [\n            {\n              \"code\": \"F\"\n            }\n          ]\n        },\n        \"valueInteger\": 2\n      }\n    ],\n    \"extension\": [\n      {\n        \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n        \"valueReference\": {\n          \"extension\": [\n            {\n              \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n              \"valueString\": \"sde-patient-sex\"\n            }\n          ],\n          \"reference\": \"#1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\"\n        }\n      }\n    ],\n    \"status\": \"complete\",\n    \"type\": \"summary\",\n    \"measure\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\",\n    \"date\": \"2026-02-10T11:13:51-05:00\",\n    \"period\": {\n      \"start\": \"2023-12-31T19:00:00-05:00\",\n      \"end\": \"2024-12-31T18:59:59-05:00\"\n    },\n    \"group\": [\n      {\n        \"id\": \"group-1\",\n        \"population\": [\n          {\n            \"id\": \"initial-population\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"initial-population\",\n                  \"display\": \"Initial Population\"\n                }\n              ]\n            },\n            \"count\": 10\n          },\n          {\n            \"id\": \"denominator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator\",\n                  \"display\": \"Denominator\"\n                }\n              ]\n            },\n            \"count\": 6\n          },\n          {\n            \"id\": \"denominator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exclusion\",\n                  \"display\": \"Denominator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"denominator-exception\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exception\",\n                  \"display\": \"Denominator-Exception\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"numerator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator\",\n                  \"display\": \"Numerator\"\n                }\n              ]\n            },\n            \"count\": 2\n          },\n          {\n            \"id\": \"numerator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator-exclusion\",\n                  \"display\": \"Numerator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          }\n        ],\n        \"measureScore\": {\n          \"value\": 0.3333333333333333\n        },\n        \"stratifier\": [\n          {\n            \"id\": \"stratifier-1\",\n            \"code\": [\n              {\n                \"text\": \"Age\"\n              }\n            ],\n            \"stratum\": [\n              {\n                \"value\": {\n                  \"text\": \"102\"\n                },\n                \"population\": [\n                  {\n                    \"id\": \"initial-population\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"initial-population\",\n                          \"display\": \"Initial Population\"\n                        }\n                      ]\n                    },\n                    \"count\": 5\n                  },\n                  {\n                    \"id\": \"denominator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator\",\n                          \"display\": \"Denominator\"\n                        }\n                      ]\n                    },\n                    \"count\": 3\n                  },\n                  {\n                    \"id\": \"denominator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exclusion\",\n                          \"display\": \"Denominator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"denominator-exception\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exception\",\n                          \"display\": \"Denominator-Exception\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"numerator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator\",\n                          \"display\": \"Numerator\"\n                        }\n                      ]\n                    },\n                    \"count\": 1\n                  },\n                  {\n                    \"id\": \"numerator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator-exclusion\",\n                          \"display\": \"Numerator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  }\n                ],\n                \"measureScore\": {\n                  \"value\": 0.3333333333333333\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"id\": \"group-2\",\n        \"population\": [\n          {\n            \"id\": \"initial-population-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"initial-population\",\n                  \"display\": \"Initial Population\"\n                }\n              ]\n            },\n            \"count\": 10\n          },\n          {\n            \"id\": \"denominator-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator\",\n                  \"display\": \"Denominator\"\n                }\n              ]\n            },\n            \"count\": 6\n          },\n          {\n            \"id\": \"denominator-exclusion-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exclusion\",\n                  \"display\": \"Denominator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"numerator-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator\",\n                  \"display\": \"Numerator\"\n                }\n              ]\n            },\n            \"count\": 2\n          }\n        ],\n        \"measureScore\": {\n          \"value\": 0.3333333333333333\n        }\n      }\n    ]\n  },\n  \"expected\": {\n    \"resourceType\": \"MeasureReport\",\n    \"id\": \"20b68d3b-7455-4fee-ae5a-7fe3303b1ee1\",\n    \"meta\": {\n      \"versionId\": \"2\",\n      \"lastUpdated\": \"2026-01-21T18:42:26.543+00:00\"\n    },\n    \"contained\": [\n      {\n        \"resourceType\": \"Observation\",\n        \"id\": \"b0723e37-12b4-41d2-81fa-96d50892a4a6\",\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n            \"extension\": [\n              {\n                \"url\": \"measure\",\n                \"valueCanonical\": \"http:\/\/example.com\/Measure\/ProportionDateBasisComponentStratSDEMulti\"\n              }\n            ]\n          }\n        ],\n        \"status\": \"final\",\n        \"code\": {\n          \"coding\": [\n            {\n              \"code\": \"F\"\n            }\n          ]\n        },\n        \"valueInteger\": 2\n      }\n    ],\n    \"extension\": [\n      {\n        \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n        \"valueReference\": {\n          \"extension\": [\n            {\n              \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n              \"valueString\": \"sde-patient-sex\"\n            }\n          ],\n          \"reference\": \"#b0723e37-12b4-41d2-81fa-96d50892a4a6\"\n        }\n      },\n      {\n        \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.measureId\",\n        \"valueString\": \"ProportionDateBasisComponentStratSDEMulti\"\n      },\n      {\n        \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.measureTitle\",\n        \"valueString\": \"ProportionDateBasisComponentStratSDEMulti\"\n      },\n      {\n        \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.jobId\",\n        \"valueString\": \"a08f03c3-f7e4-4bfa-8120-00db70c4e0b0\"\n      }\n    ],\n    \"status\": \"complete\",\n    \"type\": \"summary\",\n    \"measure\": \"http:\/\/example.com\/Measure\/ProportionDateBasisComponentStratSDEMulti\",\n    \"date\": \"2026-01-21T18:41:32+00:00\",\n    \"reporter\": {\n      \"reference\": \"Organization\/practice-group-utah\"\n    },\n    \"period\": {\n      \"start\": \"2024-01-11T00:00:00+00:00\",\n      \"end\": \"2024-12-31T23:59:59+00:00\"\n    },\n    \"group\": [\n      {\n        \"id\": \"group-1\",\n        \"population\": [\n          {\n            \"id\": \"initial-population\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"initial-population\",\n                  \"display\": \"Initial Population\"\n                }\n              ]\n            },\n            \"count\": 10\n          },\n          {\n            \"id\": \"denominator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator\",\n                  \"display\": \"Denominator\"\n                }\n              ]\n            },\n            \"count\": 6\n          },\n          {\n            \"id\": \"denominator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exclusion\",\n                  \"display\": \"Denominator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"denominator-exception\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exception\",\n                  \"display\": \"Denominator-Exception\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"numerator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator\",\n                  \"display\": \"Numerator\"\n                }\n              ]\n            },\n            \"count\": 2\n          },\n          {\n            \"id\": \"numerator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator-exclusion\",\n                  \"display\": \"Numerator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          }\n        ],\n        \"measureScore\": {\n          \"value\": 0.3333333333333333\n        },\n        \"stratifier\": [\n          {\n            \"id\": \"stratifier-1\",\n            \"code\": [\n              {\n                \"text\": \"boolean strat not finished\"\n              }\n            ],\n            \"stratum\": [\n              {\n                \"component\": [\n                  {\n                    \"code\": {\n                      \"text\": \"boolean strat not finished\"\n                    },\n                    \"value\": {\n                      \"text\": \"true\"\n                    }\n                  },\n                  {\n                    \"code\": {\n                      \"text\": \"Gender Stratification\"\n                    },\n                    \"value\": {\n                      \"text\": \"F\"\n                    }\n                  }\n                ],\n                \"population\": [\n                  {\n                    \"id\": \"initial-population\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"initial-population\",\n                          \"display\": \"Initial Population\"\n                        }\n                      ]\n                    },\n                    \"count\": 10\n                  },\n                  {\n                    \"id\": \"denominator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator\",\n                          \"display\": \"Denominator\"\n                        }\n                      ]\n                    },\n                    \"count\": 6\n                  },\n                  {\n                    \"id\": \"denominator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exclusion\",\n                          \"display\": \"Denominator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"denominator-exception\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exception\",\n                          \"display\": \"Denominator-Exception\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"numerator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator\",\n                          \"display\": \"Numerator\"\n                        }\n                      ]\n                    },\n                    \"count\": 2\n                  },\n                  {\n                    \"id\": \"numerator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator-exclusion\",\n                          \"display\": \"Numerator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  }\n                ],\n                \"measureScore\": {\n                  \"value\": 0.3333333333333333\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"id\": \"group-2\",\n        \"population\": [\n          {\n            \"id\": \"initial-population-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"initial-population\",\n                  \"display\": \"Initial Population\"\n                }\n              ]\n            },\n            \"count\": 10\n          },\n          {\n            \"id\": \"denominator-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator\",\n                  \"display\": \"Denominator\"\n                }\n              ]\n            },\n            \"count\": 6\n          },\n          {\n            \"id\": \"denominator-exclusion-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exclusion\",\n                  \"display\": \"Denominator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"numerator-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator\",\n                  \"display\": \"Numerator\"\n                }\n              ]\n            },\n            \"count\": 2\n          }\n        ],\n        \"measureScore\": {\n          \"value\": 0.3333333333333333\n        }\n      }\n    ]\n  },\n  \"measureId\": \"1ProportionDateCompStratSDEMulti\"\n}\n \n"},{"result":{"nanos":574000,"startTime":1770740031500,"endTime":1770740031501,"millis":0.574,"status":"passed"},"step":{"line":7,"prefix":"*","index":1,"text":"def actual = __arg.actual"}},{"result":{"nanos":436083,"startTime":1770740031500,"endTime":1770740031500,"millis":0.436083,"status":"passed"},"step":{"line":8,"prefix":"*","index":2,"text":"karate.log('actual type:', typeof actual)"},"stepLog":"11:13:51.501 actual type: object \n"},{"result":{"nanos":2563209,"startTime":1770740031501,"endTime":1770740031504,"millis":2.563209,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"karate.log('actual has group?:', actual.group != null)"},"stepLog":"11:13:51.503 actual has group?: true \n"},{"result":{"nanos":337084,"startTime":1770740031503,"endTime":1770740031503,"millis":0.337084,"status":"passed"},"step":{"line":10,"prefix":"*","index":4,"text":"def expected = __arg.expected"}},{"result":{"nanos":174167,"startTime":1770740031504,"endTime":1770740031504,"millis":0.174167,"status":"passed"},"step":{"line":11,"prefix":"*","index":5,"text":"def measureId = __arg.measureId"}},{"result":{"nanos":314125,"startTime":1770740031504,"endTime":1770740031504,"millis":0.314125,"status":"passed"},"step":{"line":13,"prefix":"*","index":6,"text":"def actualGroup = actual.group[0]"}},{"result":{"nanos":818916,"startTime":1770740031504,"endTime":1770740031505,"millis":0.818916,"status":"passed"},"step":{"line":14,"prefix":"*","index":7,"text":"def expectedGroup = expected.group[0]"}},{"result":{"nanos":1208250,"startTime":1770740031505,"endTime":1770740031506,"millis":1.20825,"status":"passed"},"step":{"line":16,"prefix":"*","index":8,"text":"karate.log('\\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—')"},"stepLog":"11:13:51.506 \nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— \n"},{"result":{"nanos":998209,"startTime":1770740031506,"endTime":1770740031507,"millis":0.998209,"status":"passed"},"step":{"line":17,"prefix":"*","index":9,"text":"karate.log('â•‘  Comparing Populations for', measureId)"},"stepLog":"11:13:51.507 â•‘  Comparing Populations for 1ProportionDateCompStratSDEMulti \n"},{"result":{"nanos":653250,"startTime":1770740031507,"endTime":1770740031508,"millis":0.65325,"status":"passed"},"step":{"line":18,"prefix":"*","index":10,"text":"karate.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\\n')"},"stepLog":"11:13:51.508 â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n \n"},{"result":{"nanos":531833,"startTime":1770740031508,"endTime":1770740031509,"millis":0.531833,"status":"passed"},"step":{"comments":["# Extract populations"],"line":21,"prefix":"*","index":11,"text":"def actualPops = actualGroup.population"}},{"result":{"nanos":318083,"startTime":1770740031509,"endTime":1770740031509,"millis":0.318083,"status":"passed"},"step":{"line":22,"prefix":"*","index":12,"text":"def expectedPops = expectedGroup.population"}},{"result":{"nanos":250042,"startTime":1770740031509,"endTime":1770740031509,"millis":0.250042,"status":"passed"},"step":{"comments":["# Simple comparison using Karate match"],"line":25,"prefix":"*","index":13,"text":"def allMatch = true"}},{"result":{"nanos":324166,"startTime":1770740031509,"endTime":1770740031509,"millis":0.324166,"status":"passed"},"step":{"line":26,"prefix":"*","index":14,"text":"def comparisonResults = {}"}},{"result":{"nanos":12267041,"startTime":1770740031510,"endTime":1770740031522,"millis":12.267041,"status":"passed"},"step":{"endLine":59,"comments":["# Compare each expected population with actual"],"line":29,"prefix":"*","docString":"function() {\n  for (var i = 0; i < expectedPops.length; i++) {\n    var exp = expectedPops[i];\n    var popCode = exp.code.coding[0].code;\n    var expCount = exp.count;\n    var act = actualPops.find(function(p) {\n      return p.code.coding[0].code === popCode;\n    });\n    var actCount = act ? act.count : 0;\n    var match = actCount === expCount;\n    comparisonResults[popCode] = {\n      actual: actCount,\n      expected: expCount,\n      match: match\n    };\n    if (match) {\n      karate.log('  âœ… ' + popCode + ': ' + actCount);\n    } else {\n      karate.log('  âŒ ' + popCode + ': Expected ' + expCount + ', Got ' + actCount);\n      allMatch = false;\n    }\n  }\n  return allMatch;\n}","index":15,"text":"def comparePopulations ="}},{"result":{"nanos":12230208,"startTime":1770740031522,"endTime":1770740031534,"millis":12.230208,"status":"passed"},"step":{"line":61,"prefix":"*","index":16,"text":"def allMatch = comparePopulations()"},"stepLog":"11:13:51.532   âœ… initial-population: 10 \n11:13:51.532   âœ… denominator: 6 \n11:13:51.533   âœ… denominator-exclusion: 0 \n11:13:51.533   âœ… denominator-exception: 0 \n11:13:51.534   âœ… numerator: 2 \n11:13:51.534   âœ… numerator-exclusion: 0 \n"},{"result":{"nanos":594583,"startTime":1770740031535,"endTime":1770740031536,"millis":0.594583,"status":"passed"},"step":{"line":63,"prefix":"*","index":17,"text":"karate.log('\\n' + (allMatch ? 'âœ… All populations match!' : 'âŒ Some populations do not match'))"},"stepLog":"11:13:51.535 \nâœ… All populations match! \n"},{"result":{"nanos":158791,"startTime":1770740031535,"endTime":1770740031535,"millis":0.158791,"status":"passed"},"step":{"comments":["# Compare measure score if present"],"line":66,"prefix":"*","index":18,"text":"def measureScoreMatch = true"}},{"result":{"nanos":390708,"startTime":1770740031536,"endTime":1770740031536,"millis":0.390708,"status":"passed"},"step":{"line":67,"prefix":"*","index":19,"text":"def actualMeasureScore = actualGroup.measureScore ? actualGroup.measureScore.value : null"}},{"result":{"nanos":311250,"startTime":1770740031536,"endTime":1770740031536,"millis":0.31125,"status":"passed"},"step":{"line":68,"prefix":"*","index":20,"text":"def expectedMeasureScore = expectedGroup.measureScore ? expectedGroup.measureScore.value : null"}},{"result":{"nanos":9166917,"startTime":1770740031536,"endTime":1770740031545,"millis":9.166917,"status":"passed"},"step":{"endLine":95,"line":70,"prefix":"*","docString":"function() {\n  if (expectedMeasureScore === null && actualMeasureScore === null) {\n    karate.log('  â„¹ï¸  No measure score to compare');\n    return true;\n  }\n  if (expectedMeasureScore === null || actualMeasureScore === null) {\n    karate.log('  âŒ Measure score missing in one report');\n    return false;\n  }\n  \/\/ Compare with small tolerance for floating point precision\n  var tolerance = 0.0001;\n  var diff = Math.abs(actualMeasureScore - expectedMeasureScore);\n  var match = diff < tolerance;\n  if (match) {\n    karate.log('  â„¹ï¸  Measure Score: ' + actualMeasureScore.toFixed(4) + ' (matches expected)');\n  } else {\n    karate.log('  âš ï¸  Measure Score: Expected ' + expectedMeasureScore.toFixed(4) + ', Got ' + actualMeasureScore.toFixed(4) + ' (informational only)');\n  }\n  return match;\n}","index":21,"text":"def compareMeasureScore ="}},{"result":{"nanos":7076958,"startTime":1770740031546,"endTime":1770740031553,"millis":7.076958,"status":"passed"},"step":{"line":97,"prefix":"*","index":22,"text":"def measureScoreMatch = compareMeasureScore()"},"stepLog":"11:13:51.552   â„¹ï¸  Measure Score: 0.3333 (matches expected) \n"},{"result":{"nanos":435458,"startTime":1770740031553,"endTime":1770740031553,"millis":0.435458,"status":"passed"},"step":{"comments":["# Compare stratifiers if present"],"line":100,"prefix":"*","index":23,"text":"def stratifierResults = {}"}},{"result":{"nanos":388291,"startTime":1770740031553,"endTime":1770740031553,"millis":0.388291,"status":"passed"},"step":{"line":101,"prefix":"*","index":24,"text":"def stratifiersMatch = true"}},{"result":{"nanos":1483792,"startTime":1770740031554,"endTime":1770740031555,"millis":1.483792,"status":"passed"},"step":{"line":103,"prefix":"*","index":25,"text":"def actualStratifiers = actualGroup.stratifier || []"}},{"result":{"nanos":673458,"startTime":1770740031555,"endTime":1770740031556,"millis":0.673458,"status":"passed"},"step":{"line":104,"prefix":"*","index":26,"text":"def expectedStratifiers = expectedGroup.stratifier || []"}},{"result":{"nanos":2241458,"startTime":1770740031556,"endTime":1770740031558,"millis":2.241458,"status":"passed"},"step":{"line":106,"prefix":"*","index":27,"text":"if (expectedStratifiers.length > 0) karate.log('\\nðŸ“Š Comparing Stratifiers...')"},"stepLog":"11:13:51.558 \nðŸ“Š Comparing Stratifiers... \n"},{"result":{"nanos":14077541,"startTime":1770740031558,"endTime":1770740031572,"millis":14.077541,"status":"passed"},"step":{"endLine":186,"line":108,"prefix":"*","docString":"function() {\n  if (expectedStratifiers.length === 0) return true;\n  var allStratMatch = true;\n  var stratResults = {};\n  for (var i = 0; i < expectedStratifiers.length; i++) {\n    var expStrat = expectedStratifiers[i];\n    var actStrat = actualStratifiers[i];\n    if (!actStrat) {\n      karate.log('  âŒ Stratifier ' + i + ' missing in actual report');\n      allStratMatch = false;\n      continue;\n    }\n    var stratCode = 'stratifier-' + i;\n    try {\n      if (expStrat.code && expStrat.code.length > 0 && expStrat.code[0].coding && expStrat.code[0].coding.length > 0) {\n        stratCode = expStrat.code[0].coding[0].code;\n      }\n    } catch (e) {\n      \/\/ Use default stratifier name\n    }\n    stratResults[stratCode] = { stratum: {} };\n    var expStratum = expStrat.stratum || [];\n    var actStratum = actStrat.stratum || [];\n    for (var j = 0; j < expStratum.length; j++) {\n      var expStrum = expStratum[j];\n      var actStrum = actStratum[j];\n      if (!actStrum) {\n        karate.log('  âŒ Stratum ' + j + ' missing');\n        allStratMatch = false;\n        continue;\n      }\n      var stratValue = expStrum.value ? expStrum.value.text : 'Stratum-' + j;\n      stratResults[stratCode].stratum[stratValue] = {};\n      var expPops = expStrum.population || [];\n      var actPops = actStrum.population || [];\n      for (var k = 0; k < expPops.length; k++) {\n        var expPop = expPops[k];\n        var popCode = expPop.code.coding[0].code;\n        var expCount = expPop.count;\n        var actPop = actPops.find(function(p) {\n          return p.code.coding[0].code === popCode;\n        });\n        var actCount = actPop ? actPop.count : 0;\n        var match = actCount === expCount;\n        stratResults[stratCode].stratum[stratValue][popCode] = {\n          expected: expCount,\n          actual: actCount,\n          match: match\n        };\n        if (match) {\n          karate.log('  âœ… [' + stratValue + '] ' + popCode + ': ' + actCount);\n        } else {\n          karate.log('  âŒ [' + stratValue + '] ' + popCode + ': Expected ' + expCount + ', Got ' + actCount);\n          allStratMatch = false;\n        }\n      }\n    }\n  }\n  stratifierResults = stratResults;\n  return allStratMatch;\n}","index":28,"text":"def compareStratifiers ="}},{"result":{"nanos":5531042,"startTime":1770740031573,"endTime":1770740031579,"millis":5.531042,"status":"passed"},"step":{"line":188,"prefix":"*","index":29,"text":"def stratifiersMatch = compareStratifiers()"},"stepLog":"11:13:51.574   âŒ [Stratum-0] initial-population: Expected 10, Got 5 \n11:13:51.576   âŒ [Stratum-0] denominator: Expected 6, Got 3 \n11:13:51.576   âœ… [Stratum-0] denominator-exclusion: 0 \n11:13:51.576   âœ… [Stratum-0] denominator-exception: 0 \n11:13:51.577   âŒ [Stratum-0] numerator: Expected 2, Got 1 \n11:13:51.578   âœ… [Stratum-0] numerator-exclusion: 0 \n"},{"result":{"nanos":656125,"startTime":1770740031578,"endTime":1770740031579,"millis":0.656125,"status":"passed"},"step":{"line":190,"prefix":"*","index":30,"text":"karate.log('\\n' + (allMatch && stratifiersMatch ? 'âœ… All populations and stratifiers match!' : 'âŒ Some comparisons failed'))"},"stepLog":"11:13:51.579 \nâŒ Some comparisons failed \n"},{"result":{"nanos":670334,"startTime":1770740031579,"endTime":1770740031580,"millis":0.670334,"status":"passed"},"step":{"line":191,"prefix":"*","index":31,"text":"karate.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\\n')"},"stepLog":"11:13:51.579 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n \n"},{"result":{"nanos":868458,"startTime":1770740031580,"endTime":1770740031581,"millis":0.868458,"status":"passed"},"step":{"comments":["# Return comparison result (measure score is informational only, doesn't affect pass\/fail)"],"line":194,"prefix":"*","index":32,"text":"def overallMatch = allMatch && stratifiersMatch"}},{"result":{"nanos":1634209,"startTime":1770740031581,"endTime":1770740031583,"millis":1.634209,"status":"passed"},"step":{"line":195,"prefix":"*","index":33,"text":"def measureScoreResult = { expected: '#(expectedMeasureScore)', actual: '#(actualMeasureScore)', match: '#(measureScoreMatch)' }"}},{"result":{"nanos":1659375,"startTime":1770740031582,"endTime":1770740031584,"millis":1.659375,"status":"passed"},"step":{"line":196,"prefix":"*","index":34,"text":"def comparisonResult = { populations: '#(comparisonResults)', stratifiers: '#(stratifierResults)', measureScore: '#(measureScoreResult)', allMatch: '#(overallMatch)', passed: '#(overallMatch)' }"}}],"line":4,"description":"","durationMillis":86.416039,"failed":false,"tags":["ignore"],"executorName":"main","name":"Compare Population Counts","startTime":1770740031494,"refId":"[1:4]","endTime":1770740031584,"exampleIndex":-1}],"name":"Compare MeasureReports","passedCount":1}]},{"result":{"nanos":858917,"startTime":1770740031585,"endTime":1770740031586,"millis":0.858917,"status":"passed"},"step":{"comments":["# Step 4: Print test summary for terminal visibility"],"line":33,"prefix":"*","index":14,"text":"print ''"},"stepLog":"11:13:51.585 [print]  \n"},{"result":{"nanos":1000417,"startTime":1770740031585,"endTime":1770740031586,"millis":1.000417,"status":"passed"},"step":{"line":34,"prefix":"*","index":15,"text":"print 'â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—'"},"stepLog":"11:13:51.586 [print] â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— \n"},{"result":{"nanos":503041,"startTime":1770740031587,"endTime":1770740031588,"millis":0.503041,"status":"passed"},"step":{"line":35,"prefix":"*","index":16,"text":"print 'â•‘  TEST RESULT: ' + measureId"},"stepLog":"11:13:51.587 [print] â•‘  TEST RESULT: 1ProportionDateCompStratSDEMulti \n"},{"result":{"nanos":315166,"startTime":1770740031587,"endTime":1770740031587,"millis":0.315166,"status":"passed"},"step":{"line":36,"prefix":"*","index":17,"text":"print 'â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•'"},"stepLog":"11:13:51.587 [print] â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• \n"},{"result":{"nanos":334167,"startTime":1770740031587,"endTime":1770740031587,"millis":0.334167,"status":"passed"},"step":{"comments":["# Print all population results dynamically"],"line":39,"prefix":"*","index":18,"text":"def populations = comparison.comparisonResult.populations"}},{"result":{"nanos":252875,"startTime":1770740031588,"endTime":1770740031588,"millis":0.252875,"status":"passed"},"step":{"line":40,"prefix":"*","index":19,"text":"print ''"},"stepLog":"11:13:51.588 [print]  \n"},{"result":{"nanos":267792,"startTime":1770740031588,"endTime":1770740031588,"millis":0.267792,"status":"passed"},"step":{"line":41,"prefix":"*","index":20,"text":"print 'POPULATIONS:'"},"stepLog":"11:13:51.588 [print] POPULATIONS: \n"},{"result":{"nanos":1122834,"startTime":1770740031588,"endTime":1770740031589,"millis":1.122834,"status":"passed"},"step":{"endLine":55,"line":42,"prefix":"*","docString":"function() {\n  var popKeys = Object.keys(populations);\n  for (var i = 0; i < popKeys.length; i++) {\n    var key = popKeys[i];\n    var pop = populations[key];\n    var icon = pop.match ? 'âœ…' : 'âŒ';\n    var msg = '  ' + icon + ' ' + key + ': Expected=' + pop.expected + ', Actual=' + pop.actual;\n    karate.log(msg);\n    print(msg);\n  }\n}","index":21,"text":"def printPopulations ="}},{"result":{"nanos":30830375,"startTime":1770740031590,"endTime":1770740031621,"millis":30.830375,"status":"passed"},"step":{"line":56,"prefix":"*","index":22,"text":"eval printPopulations()"},"stepLog":"11:13:51.614   âœ… initial-population: Expected=10, Actual=10 \n11:13:51.619   âœ… denominator: Expected=6, Actual=6 \n11:13:51.619   âœ… denominator-exclusion: Expected=0, Actual=0 \n11:13:51.619   âœ… denominator-exception: Expected=0, Actual=0 \n11:13:51.620   âœ… numerator: Expected=2, Actual=2 \n11:13:51.620   âœ… numerator-exclusion: Expected=0, Actual=0 \n"},{"result":{"nanos":2126375,"startTime":1770740031620,"endTime":1770740031622,"millis":2.126375,"status":"passed"},"step":{"comments":["# Print stratifier results if present"],"line":59,"prefix":"*","index":23,"text":"def stratifiers = comparison.comparisonResult.stratifiers"}},{"result":{"nanos":899084,"startTime":1770740031623,"endTime":1770740031624,"millis":0.899084,"status":"passed"},"step":{"line":60,"prefix":"*","index":24,"text":"def hasStratifiers = Object.keys(stratifiers).length > 0"}},{"result":{"nanos":18415167,"startTime":1770740031624,"endTime":1770740031642,"millis":18.415167,"status":"passed"},"step":{"endLine":91,"line":61,"prefix":"*","docString":"function() {\n  if (!hasStratifiers) return;\n  print('');\n  print('STRATIFIERS:');\n  var stratKeys = Object.keys(stratifiers);\n  for (var i = 0; i < stratKeys.length; i++) {\n    var stratCode = stratKeys[i];\n    var strat = stratifiers[stratCode];\n    print('  Stratifier: ' + stratCode);\n    var stratumKeys = Object.keys(strat.stratum);\n    for (var j = 0; j < stratumKeys.length; j++) {\n      var stratumValue = stratumKeys[j];\n      var stratum = strat.stratum[stratumValue];\n      print('    [' + stratumValue + ']');\n      var popKeys = Object.keys(stratum);\n      for (var k = 0; k < popKeys.length; k++) {\n        var popCode = popKeys[k];\n        var pop = stratum[popCode];\n        var icon = pop.match ? 'âœ…' : 'âŒ';\n        var msg = '      ' + icon + ' ' + popCode + ': Expected=' + pop.expected + ', Actual=' + pop.actual;\n        print(msg);\n      }\n    }\n  }\n}","index":25,"text":"def printStratifiers ="}},{"result":{"nanos":6225666,"startTime":1770740031642,"endTime":1770740031648,"millis":6.225666,"status":"passed"},"step":{"line":92,"prefix":"*","index":26,"text":"eval printStratifiers()"}},{"result":{"nanos":517583,"startTime":1770740031649,"endTime":1770740031650,"millis":0.517583,"status":"passed"},"step":{"comments":["# Print overall result"],"line":95,"prefix":"*","index":27,"text":"print ''"},"stepLog":"11:13:51.649 [print]  \n"},{"result":{"nanos":917333,"startTime":1770740031649,"endTime":1770740031650,"millis":0.917333,"status":"passed"},"step":{"line":96,"prefix":"*","index":28,"text":"def testResult = comparison.comparisonResult.passed ? 'âœ… PASSED - All assertions match!' : 'âŒ FAILED - Some assertions do not match'"}},{"result":{"nanos":740625,"startTime":1770740031650,"endTime":1770740031651,"millis":0.740625,"status":"passed"},"step":{"line":97,"prefix":"*","index":29,"text":"print testResult"},"stepLog":"11:13:51.651 [print] âŒ FAILED - Some assertions do not match \n"},{"result":{"nanos":256709,"startTime":1770740031651,"endTime":1770740031651,"millis":0.256709,"status":"passed"},"step":{"line":98,"prefix":"*","index":30,"text":"print ''"},"stepLog":"11:13:51.651 [print]  \n"},{"result":{"nanos":9516000,"errorMessage":"did not evaluate to 'true': comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'\nclasspath:features\/measures\/measure-01.feature:101","startTime":1770740031651,"endTime":1770740031661,"millis":9.516,"status":"failed"},"step":{"comments":["# Step 5: Assert all populations match"],"line":101,"prefix":"*","index":31,"text":"assert comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'"},"stepLog":"11:13:51.662 classpath:features\/measures\/measure-01.feature:101\n* assert comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'\ndid not evaluate to 'true': comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'\nclasspath:features\/measures\/measure-01.feature:101\n"}],"line":6,"description":"","durationMillis":1171.763749,"failed":true,"error":"did not evaluate to 'true': comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'\nclasspath:features\/measures\/measure-01.feature:101","executorName":"main","name":"Evaluate and Validate Measure 01","startTime":1770740029791,"refId":"[1:6]","endTime":1770740031662,"exampleIndex":-1}],"callDepth":0,"name":"Measure 01 - Proportion Date with Stratifiers","description":"","resultDate":"2026-02-10 11:13:51 a.m.","durationMillis":1171.763749,"passedCount":0}