[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def measureId = '1ProportionDateCompStratSDEMulti'","result":{"duration":14417583,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"11:13:50.002 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• \n11:13:50.011 Karate Environment: dev \n11:13:50.012 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• \n11:13:50.300 FHIR Server: http:\/\/localhost:8000 \n11:13:50.301 Report Type: summary \n11:13:50.398 Test Patients: [\n  \"patient1\",\n  \"patient2\"\n]\n \n11:13:50.412 Save Reports: true \n11:13:50.414 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n \n","line":4}}]},{"start_timestamp":"2026-02-10T16:13:49.791Z","line":6,"name":"Evaluate and Validate Measure 01","description":"","id":"evaluate-and-validate-measure-01","type":"scenario","keyword":"Scenario","steps":[{"name":"def result = call read('classpath:features\/common\/evaluate-measure.feature') { measureId: '#(measureId)' }","result":{"duration":917331458,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 1: Evaluate measure (calls common function)"],"keyword":"*","line":9},{"name":"features\/common\/evaluate-measure.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":9},{"name":"url fhirServerUrl","result":{"duration":1311833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"configure headers = { 'Content-Type': 'application\/fhir+json', 'Accept': 'application\/fhir+json' }","result":{"duration":587959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def Base64 = Java.type('java.util.Base64')","result":{"duration":7231666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def credentials = auth.username + ':' + auth.password","result":{"duration":27391375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def encodedCredentials = Base64.getEncoder().encodeToString(credentials.getBytes())","result":{"duration":13135583,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"header Authorization = 'Basic ' + encodedCredentials","result":{"duration":20215667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def measureId = __arg.measureId","result":{"duration":618167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def evaluationRequest =","result":{"duration":8264834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14,"doc_string":{"content_type":"","value":"{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n    {\n      \"name\": \"periodStart\",\n      \"valueString\": \"#(evaluationParams.periodStart)\"\n    },\n    {\n      \"name\": \"periodEnd\",\n      \"valueString\": \"#(evaluationParams.periodEnd)\"\n    },\n    {\n      \"name\": \"measureId\",\n      \"valueString\": \"#(measureId)\"\n    }\n  ]\n}","line":14}},{"name":"path 'Measure', '$evaluate-measures'","result":{"duration":1026667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":35},{"name":"request evaluationRequest","result":{"duration":1687208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"method post","result":{"duration":754353042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":37,"doc_string":{"content_type":"","value":"11:13:50.869 request:\n1 > POST http:\/\/localhost:8000\/Measure\/$evaluate-measures\n1 > Authorization: Basic YWRtaW46cGFzc3dvcmQ=\n1 > Content-Type: application\/fhir+json; charset=UTF-8\n1 > Accept: application\/fhir+json\n1 > Content-Length: 211\n1 > Host: localhost:8000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n    {\n      \"name\": \"periodStart\",\n      \"valueString\": \"2024-01-01\"\n    },\n    {\n      \"name\": \"periodEnd\",\n      \"valueString\": \"2024-12-31\"\n    },\n    {\n      \"name\": \"measureId\",\n      \"valueString\": \"1ProportionDateCompStratSDEMulti\"\n    }\n  ]\n}\n\n\n11:13:51.412 response time in milliseconds: 539\n1 < 200\n1 < Date: Tue, 10 Feb 2026 16:13:50 GMT\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Powered-By: Smile CDR 2026.02.PRE FHIR REST Endpoint (FHIR Server; FHIR 4.0.1\/R4; HAPI FHIR 8.7.11-SNAPSHOT)\n1 < X-Request-ID: cWVtnGB1IjwnzNH2\n1 < Content-Type: application\/fhir+json;charset=utf-8\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 0\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < X-Frame-Options: DENY\n1 < Transfer-Encoding: chunked\n{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n    {\n      \"name\": \"return\",\n      \"resource\": {\n        \"resourceType\": \"Bundle\",\n        \"id\": \"f12a363f-0cc6-4a7d-bf66-d53aab5d00a5\",\n        \"identifier\": {\n          \"system\": \"urn:ietf:rfc:3986\",\n          \"value\": \"urn:uuid:2f39d916-03c5-48ef-bc3c-db131aea2073\"\n        },\n        \"type\": \"searchset\",\n        \"timestamp\": \"2026-02-10T11:13:51.375-05:00\",\n        \"entry\": [\n          {\n            \"fullUrl\": \"http:\/\/localhost:8000\/MeasureReport\/a3ef6dd9-84b2-4080-b627-4caba7fa7b6e\",\n            \"resource\": {\n              \"resourceType\": \"MeasureReport\",\n              \"id\": \"a3ef6dd9-84b2-4080-b627-4caba7fa7b6e\",\n              \"contained\": [\n                {\n                  \"resourceType\": \"Observation\",\n                  \"id\": \"1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\",\n                  \"extension\": [\n                    {\n                      \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n                      \"extension\": [\n                        {\n                          \"url\": \"measure\",\n                          \"valueCanonical\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"status\": \"final\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"code\": \"F\"\n                      }\n                    ]\n                  },\n                  \"valueInteger\": 2\n                }\n              ],\n              \"extension\": [\n                {\n                  \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n                  \"valueReference\": {\n                    \"extension\": [\n                      {\n                        \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n                        \"valueString\": \"sde-patient-sex\"\n                      }\n                    ],\n                    \"reference\": \"#1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\"\n                  }\n                }\n              ],\n              \"status\": \"complete\",\n              \"type\": \"summary\",\n              \"measure\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\",\n              \"date\": \"2026-02-10T11:13:51-05:00\",\n              \"period\": {\n                \"start\": \"2023-12-31T19:00:00-05:00\",\n                \"end\": \"2024-12-31T18:59:59-05:00\"\n              },\n              \"group\": [\n                {\n                  \"id\": \"group-1\",\n                  \"population\": [\n                    {\n                      \"id\": \"initial-population\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"initial-population\",\n                            \"display\": \"Initial Population\"\n                          }\n                        ]\n                      },\n                      \"count\": 10\n                    },\n                    {\n                      \"id\": \"denominator\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator\",\n                            \"display\": \"Denominator\"\n                          }\n                        ]\n                      },\n                      \"count\": 6\n                    },\n                    {\n                      \"id\": \"denominator-exclusion\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator-exclusion\",\n                            \"display\": \"Denominator-Exclusion\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    },\n                    {\n                      \"id\": \"denominator-exception\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator-exception\",\n                            \"display\": \"Denominator-Exception\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    },\n                    {\n                      \"id\": \"numerator\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"numerator\",\n                            \"display\": \"Numerator\"\n                          }\n                        ]\n                      },\n                      \"count\": 2\n                    },\n                    {\n                      \"id\": \"numerator-exclusion\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"numerator-exclusion\",\n                            \"display\": \"Numerator-Exclusion\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    }\n                  ],\n                  \"measureScore\": {\n                    \"value\": 0.3333333333333333\n                  },\n                  \"stratifier\": [\n                    {\n                      \"id\": \"stratifier-1\",\n                      \"code\": [\n                        {\n                          \"text\": \"Age\"\n                        }\n                      ],\n                      \"stratum\": [\n                        {\n                          \"value\": {\n                            \"text\": \"102\"\n                          },\n                          \"population\": [\n                            {\n                              \"id\": \"initial-population\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"initial-population\",\n                                    \"display\": \"Initial Population\"\n                                  }\n                                ]\n                              },\n                              \"count\": 5\n                            },\n                            {\n                              \"id\": \"denominator\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator\",\n                                    \"display\": \"Denominator\"\n                                  }\n                                ]\n                              },\n                              \"count\": 3\n                            },\n                            {\n                              \"id\": \"denominator-exclusion\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator-exclusion\",\n                                    \"display\": \"Denominator-Exclusion\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"denominator-exception\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator-exception\",\n                                    \"display\": \"Denominator-Exception\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"numerator\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"numerator\",\n                                    \"display\": \"Numerator\"\n                                  }\n                                ]\n                              },\n                              \"count\": 1\n                            },\n                            {\n                              \"id\": \"numerator-exclusion\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"numerator-exclusion\",\n                                    \"display\": \"Numerator-Exclusion\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            }\n                          ],\n                          \"measureScore\": {\n                            \"value\": 0.3333333333333333\n                          }\n                        }\n                      ]\n                    }\n                  ]\n                },\n                {\n                  \"id\": \"group-2\",\n                  \"population\": [\n                    {\n                      \"id\": \"initial-population-2\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"initial-population\",\n                            \"display\": \"Initial Population\"\n                          }\n                        ]\n                      },\n                      \"count\": 10\n                    },\n                    {\n                      \"id\": \"denominator-2\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator\",\n                            \"display\": \"Denominator\"\n                          }\n                        ]\n                      },\n                      \"count\": 6\n                    },\n                    {\n                      \"id\": \"denominator-exclusion-2\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator-exclusion\",\n                            \"display\": \"Denominator-Exclusion\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    },\n                    {\n                      \"id\": \"numerator-2\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"numerator\",\n                            \"display\": \"Numerator\"\n                          }\n                        ]\n                      },\n                      \"count\": 2\n                    }\n                  ],\n                  \"measureScore\": {\n                    \"value\": 0.3333333333333333\n                  }\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n\n\n","line":37}},{"name":"status 200","result":{"duration":1629709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":38},{"name":"def bundle = response.parameter[0].resource","result":{"duration":1064709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"def measureReport = bundle.entry[0].resource","result":{"duration":400208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41},{"name":"def actualReport = result.measureReport","result":{"duration":391166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"karate.log('actualReport:', actualReport)","result":{"duration":2758334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11,"doc_string":{"content_type":"","value":"11:13:51.420 actualReport: {\n  \"resourceType\": \"MeasureReport\",\n  \"id\": \"a3ef6dd9-84b2-4080-b627-4caba7fa7b6e\",\n  \"contained\": [\n    {\n      \"resourceType\": \"Observation\",\n      \"id\": \"1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\",\n      \"extension\": [\n        {\n          \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n          \"extension\": [\n            {\n              \"url\": \"measure\",\n              \"valueCanonical\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\"\n            }\n          ]\n        }\n      ],\n      \"status\": \"final\",\n      \"code\": {\n        \"coding\": [\n          {\n            \"code\": \"F\"\n          }\n        ]\n      },\n      \"valueInteger\": 2\n    }\n  ],\n  \"extension\": [\n    {\n      \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n      \"valueReference\": {\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n            \"valueString\": \"sde-patient-sex\"\n          }\n        ],\n        \"reference\": \"#1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\"\n      }\n    }\n  ],\n  \"status\": \"complete\",\n  \"type\": \"summary\",\n  \"measure\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\",\n  \"date\": \"2026-02-10T11:13:51-05:00\",\n  \"period\": {\n    \"start\": \"2023-12-31T19:00:00-05:00\",\n    \"end\": \"2024-12-31T18:59:59-05:00\"\n  },\n  \"group\": [\n    {\n      \"id\": \"group-1\",\n      \"population\": [\n        {\n          \"id\": \"initial-population\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"initial-population\",\n                \"display\": \"Initial Population\"\n              }\n            ]\n          },\n          \"count\": 10\n        },\n        {\n          \"id\": \"denominator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator\",\n                \"display\": \"Denominator\"\n              }\n            ]\n          },\n          \"count\": 6\n        },\n        {\n          \"id\": \"denominator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exclusion\",\n                \"display\": \"Denominator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"denominator-exception\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exception\",\n                \"display\": \"Denominator-Exception\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"numerator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator\",\n                \"display\": \"Numerator\"\n              }\n            ]\n          },\n          \"count\": 2\n        },\n        {\n          \"id\": \"numerator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator-exclusion\",\n                \"display\": \"Numerator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        }\n      ],\n      \"measureScore\": {\n        \"value\": 0.3333333333333333\n      },\n      \"stratifier\": [\n        {\n          \"id\": \"stratifier-1\",\n          \"code\": [\n            {\n              \"text\": \"Age\"\n            }\n          ],\n          \"stratum\": [\n            {\n              \"value\": {\n                \"text\": \"102\"\n              },\n              \"population\": [\n                {\n                  \"id\": \"initial-population\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"initial-population\",\n                        \"display\": \"Initial Population\"\n                      }\n                    ]\n                  },\n                  \"count\": 5\n                },\n                {\n                  \"id\": \"denominator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator\",\n                        \"display\": \"Denominator\"\n                      }\n                    ]\n                  },\n                  \"count\": 3\n                },\n                {\n                  \"id\": \"denominator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exclusion\",\n                        \"display\": \"Denominator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"denominator-exception\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exception\",\n                        \"display\": \"Denominator-Exception\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"numerator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator\",\n                        \"display\": \"Numerator\"\n                      }\n                    ]\n                  },\n                  \"count\": 1\n                },\n                {\n                  \"id\": \"numerator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator-exclusion\",\n                        \"display\": \"Numerator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                }\n              ],\n              \"measureScore\": {\n                \"value\": 0.3333333333333333\n              }\n            }\n          ]\n        }\n      ]\n    },\n    {\n      \"id\": \"group-2\",\n      \"population\": [\n        {\n          \"id\": \"initial-population-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"initial-population\",\n                \"display\": \"Initial Population\"\n              }\n            ]\n          },\n          \"count\": 10\n        },\n        {\n          \"id\": \"denominator-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator\",\n                \"display\": \"Denominator\"\n              }\n            ]\n          },\n          \"count\": 6\n        },\n        {\n          \"id\": \"denominator-exclusion-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exclusion\",\n                \"display\": \"Denominator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"numerator-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator\",\n                \"display\": \"Numerator\"\n              }\n            ]\n          },\n          \"count\": 2\n        }\n      ],\n      \"measureScore\": {\n        \"value\": 0.3333333333333333\n      }\n    }\n  ]\n}\n \n","line":11}},{"name":"karate.log('actualReport type:', typeof actualReport)","result":{"duration":4685209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12,"doc_string":{"content_type":"","value":"11:13:51.426 actualReport type: object \n","line":12}},{"name":"def actualReportFile = 'test-output\/actual-reports\/' + measureId + '-actual.json'","result":{"duration":1753417,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Save actual report to file for review"],"keyword":"*","line":15},{"name":"karate.write(actualReport, actualReportFile)","result":{"duration":28473625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16,"doc_string":{"content_type":"","value":"11:13:51.457 write to file: target\/test-output\/actual-reports\/1ProportionDateCompStratSDEMulti-actual.json\n","line":16}},{"name":"karate.log('ðŸ’¾ Actual report saved to:', actualReportFile)","result":{"duration":854458,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17,"doc_string":{"content_type":"","value":"11:13:51.458 ðŸ’¾ Actual report saved to: test-output\/actual-reports\/1ProportionDateCompStratSDEMulti-actual.json \n","line":17}},{"name":"def expectedReport = read('classpath:expected-results\/1ProportionDateCompStratSDEMultiResponse.json')","result":{"duration":1912958,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 2: Load expected report"],"keyword":"*","line":20},{"name":"karate.log('expectedReport:', expectedReport)","result":{"duration":1693333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21,"doc_string":{"content_type":"","value":"11:13:51.461 expectedReport: {\n  \"resourceType\": \"MeasureReport\",\n  \"id\": \"20b68d3b-7455-4fee-ae5a-7fe3303b1ee1\",\n  \"meta\": {\n    \"versionId\": \"2\",\n    \"lastUpdated\": \"2026-01-21T18:42:26.543+00:00\"\n  },\n  \"contained\": [\n    {\n      \"resourceType\": \"Observation\",\n      \"id\": \"b0723e37-12b4-41d2-81fa-96d50892a4a6\",\n      \"extension\": [\n        {\n          \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n          \"extension\": [\n            {\n              \"url\": \"measure\",\n              \"valueCanonical\": \"http:\/\/example.com\/Measure\/ProportionDateBasisComponentStratSDEMulti\"\n            }\n          ]\n        }\n      ],\n      \"status\": \"final\",\n      \"code\": {\n        \"coding\": [\n          {\n            \"code\": \"F\"\n          }\n        ]\n      },\n      \"valueInteger\": 2\n    }\n  ],\n  \"extension\": [\n    {\n      \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n      \"valueReference\": {\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n            \"valueString\": \"sde-patient-sex\"\n          }\n        ],\n        \"reference\": \"#b0723e37-12b4-41d2-81fa-96d50892a4a6\"\n      }\n    },\n    {\n      \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.measureId\",\n      \"valueString\": \"ProportionDateBasisComponentStratSDEMulti\"\n    },\n    {\n      \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.measureTitle\",\n      \"valueString\": \"ProportionDateBasisComponentStratSDEMulti\"\n    },\n    {\n      \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.jobId\",\n      \"valueString\": \"a08f03c3-f7e4-4bfa-8120-00db70c4e0b0\"\n    }\n  ],\n  \"status\": \"complete\",\n  \"type\": \"summary\",\n  \"measure\": \"http:\/\/example.com\/Measure\/ProportionDateBasisComponentStratSDEMulti\",\n  \"date\": \"2026-01-21T18:41:32+00:00\",\n  \"reporter\": {\n    \"reference\": \"Organization\/practice-group-utah\"\n  },\n  \"period\": {\n    \"start\": \"2024-01-11T00:00:00+00:00\",\n    \"end\": \"2024-12-31T23:59:59+00:00\"\n  },\n  \"group\": [\n    {\n      \"id\": \"group-1\",\n      \"population\": [\n        {\n          \"id\": \"initial-population\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"initial-population\",\n                \"display\": \"Initial Population\"\n              }\n            ]\n          },\n          \"count\": 10\n        },\n        {\n          \"id\": \"denominator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator\",\n                \"display\": \"Denominator\"\n              }\n            ]\n          },\n          \"count\": 6\n        },\n        {\n          \"id\": \"denominator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exclusion\",\n                \"display\": \"Denominator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"denominator-exception\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exception\",\n                \"display\": \"Denominator-Exception\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"numerator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator\",\n                \"display\": \"Numerator\"\n              }\n            ]\n          },\n          \"count\": 2\n        },\n        {\n          \"id\": \"numerator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator-exclusion\",\n                \"display\": \"Numerator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        }\n      ],\n      \"measureScore\": {\n        \"value\": 0.3333333333333333\n      },\n      \"stratifier\": [\n        {\n          \"id\": \"stratifier-1\",\n          \"code\": [\n            {\n              \"text\": \"boolean strat not finished\"\n            }\n          ],\n          \"stratum\": [\n            {\n              \"component\": [\n                {\n                  \"code\": {\n                    \"text\": \"boolean strat not finished\"\n                  },\n                  \"value\": {\n                    \"text\": \"true\"\n                  }\n                },\n                {\n                  \"code\": {\n                    \"text\": \"Gender Stratification\"\n                  },\n                  \"value\": {\n                    \"text\": \"F\"\n                  }\n                }\n              ],\n              \"population\": [\n                {\n                  \"id\": \"initial-population\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"initial-population\",\n                        \"display\": \"Initial Population\"\n                      }\n                    ]\n                  },\n                  \"count\": 10\n                },\n                {\n                  \"id\": \"denominator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator\",\n                        \"display\": \"Denominator\"\n                      }\n                    ]\n                  },\n                  \"count\": 6\n                },\n                {\n                  \"id\": \"denominator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exclusion\",\n                        \"display\": \"Denominator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"denominator-exception\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exception\",\n                        \"display\": \"Denominator-Exception\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"numerator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator\",\n                        \"display\": \"Numerator\"\n                      }\n                    ]\n                  },\n                  \"count\": 2\n                },\n                {\n                  \"id\": \"numerator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator-exclusion\",\n                        \"display\": \"Numerator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                }\n              ],\n              \"measureScore\": {\n                \"value\": 0.3333333333333333\n              }\n            }\n          ]\n        }\n      ]\n    },\n    {\n      \"id\": \"group-2\",\n      \"population\": [\n        {\n          \"id\": \"initial-population-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"initial-population\",\n                \"display\": \"Initial Population\"\n              }\n            ]\n          },\n          \"count\": 10\n        },\n        {\n          \"id\": \"denominator-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator\",\n                \"display\": \"Denominator\"\n              }\n            ]\n          },\n          \"count\": 6\n        },\n        {\n          \"id\": \"denominator-exclusion-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exclusion\",\n                \"display\": \"Denominator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"numerator-2\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator\",\n                \"display\": \"Numerator\"\n              }\n            ]\n          },\n          \"count\": 2\n        }\n      ],\n      \"measureScore\": {\n        \"value\": 0.3333333333333333\n      }\n    }\n  ]\n}\n \n","line":21}},{"name":"match actualReport.group == '#present'","result":{"duration":7554250,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Verify reports have groups"],"keyword":"*","line":24},{"name":"match expectedReport.group == '#present'","result":{"duration":733083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25},{"name":"karate.set('actualForComparison', actualReport)","result":{"duration":1739833,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 3: Compare reports (calls common function)"],"keyword":"*","line":28},{"name":"karate.set('expectedForComparison', expectedReport)","result":{"duration":480000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":29},{"name":"def comparison = karate.call('classpath:features\/common\/compare-reports.feature', { actual: karate.get('actualForComparison'), expected: karate.get('expectedForComparison'), measureId: measureId })","result":{"duration":111884916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":30},{"name":"features\/common\/compare-reports.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":30},{"name":"karate.log('__arg:', __arg)","result":{"duration":4398625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6,"doc_string":{"content_type":"","value":"11:13:51.499 __arg: {\n  \"actual\": {\n    \"resourceType\": \"MeasureReport\",\n    \"id\": \"a3ef6dd9-84b2-4080-b627-4caba7fa7b6e\",\n    \"contained\": [\n      {\n        \"resourceType\": \"Observation\",\n        \"id\": \"1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\",\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n            \"extension\": [\n              {\n                \"url\": \"measure\",\n                \"valueCanonical\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\"\n              }\n            ]\n          }\n        ],\n        \"status\": \"final\",\n        \"code\": {\n          \"coding\": [\n            {\n              \"code\": \"F\"\n            }\n          ]\n        },\n        \"valueInteger\": 2\n      }\n    ],\n    \"extension\": [\n      {\n        \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n        \"valueReference\": {\n          \"extension\": [\n            {\n              \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n              \"valueString\": \"sde-patient-sex\"\n            }\n          ],\n          \"reference\": \"#1eca16ea-901c-4a6b-a5e7-f0b5f81e342b\"\n        }\n      }\n    ],\n    \"status\": \"complete\",\n    \"type\": \"summary\",\n    \"measure\": \"http:\/\/example.com\/Measure\/1ProportionDateCompStratSDEMulti\",\n    \"date\": \"2026-02-10T11:13:51-05:00\",\n    \"period\": {\n      \"start\": \"2023-12-31T19:00:00-05:00\",\n      \"end\": \"2024-12-31T18:59:59-05:00\"\n    },\n    \"group\": [\n      {\n        \"id\": \"group-1\",\n        \"population\": [\n          {\n            \"id\": \"initial-population\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"initial-population\",\n                  \"display\": \"Initial Population\"\n                }\n              ]\n            },\n            \"count\": 10\n          },\n          {\n            \"id\": \"denominator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator\",\n                  \"display\": \"Denominator\"\n                }\n              ]\n            },\n            \"count\": 6\n          },\n          {\n            \"id\": \"denominator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exclusion\",\n                  \"display\": \"Denominator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"denominator-exception\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exception\",\n                  \"display\": \"Denominator-Exception\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"numerator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator\",\n                  \"display\": \"Numerator\"\n                }\n              ]\n            },\n            \"count\": 2\n          },\n          {\n            \"id\": \"numerator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator-exclusion\",\n                  \"display\": \"Numerator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          }\n        ],\n        \"measureScore\": {\n          \"value\": 0.3333333333333333\n        },\n        \"stratifier\": [\n          {\n            \"id\": \"stratifier-1\",\n            \"code\": [\n              {\n                \"text\": \"Age\"\n              }\n            ],\n            \"stratum\": [\n              {\n                \"value\": {\n                  \"text\": \"102\"\n                },\n                \"population\": [\n                  {\n                    \"id\": \"initial-population\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"initial-population\",\n                          \"display\": \"Initial Population\"\n                        }\n                      ]\n                    },\n                    \"count\": 5\n                  },\n                  {\n                    \"id\": \"denominator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator\",\n                          \"display\": \"Denominator\"\n                        }\n                      ]\n                    },\n                    \"count\": 3\n                  },\n                  {\n                    \"id\": \"denominator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exclusion\",\n                          \"display\": \"Denominator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"denominator-exception\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exception\",\n                          \"display\": \"Denominator-Exception\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"numerator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator\",\n                          \"display\": \"Numerator\"\n                        }\n                      ]\n                    },\n                    \"count\": 1\n                  },\n                  {\n                    \"id\": \"numerator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator-exclusion\",\n                          \"display\": \"Numerator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  }\n                ],\n                \"measureScore\": {\n                  \"value\": 0.3333333333333333\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"id\": \"group-2\",\n        \"population\": [\n          {\n            \"id\": \"initial-population-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"initial-population\",\n                  \"display\": \"Initial Population\"\n                }\n              ]\n            },\n            \"count\": 10\n          },\n          {\n            \"id\": \"denominator-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator\",\n                  \"display\": \"Denominator\"\n                }\n              ]\n            },\n            \"count\": 6\n          },\n          {\n            \"id\": \"denominator-exclusion-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exclusion\",\n                  \"display\": \"Denominator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"numerator-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator\",\n                  \"display\": \"Numerator\"\n                }\n              ]\n            },\n            \"count\": 2\n          }\n        ],\n        \"measureScore\": {\n          \"value\": 0.3333333333333333\n        }\n      }\n    ]\n  },\n  \"expected\": {\n    \"resourceType\": \"MeasureReport\",\n    \"id\": \"20b68d3b-7455-4fee-ae5a-7fe3303b1ee1\",\n    \"meta\": {\n      \"versionId\": \"2\",\n      \"lastUpdated\": \"2026-01-21T18:42:26.543+00:00\"\n    },\n    \"contained\": [\n      {\n        \"resourceType\": \"Observation\",\n        \"id\": \"b0723e37-12b4-41d2-81fa-96d50892a4a6\",\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n            \"extension\": [\n              {\n                \"url\": \"measure\",\n                \"valueCanonical\": \"http:\/\/example.com\/Measure\/ProportionDateBasisComponentStratSDEMulti\"\n              }\n            ]\n          }\n        ],\n        \"status\": \"final\",\n        \"code\": {\n          \"coding\": [\n            {\n              \"code\": \"F\"\n            }\n          ]\n        },\n        \"valueInteger\": 2\n      }\n    ],\n    \"extension\": [\n      {\n        \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n        \"valueReference\": {\n          \"extension\": [\n            {\n              \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n              \"valueString\": \"sde-patient-sex\"\n            }\n          ],\n          \"reference\": \"#b0723e37-12b4-41d2-81fa-96d50892a4a6\"\n        }\n      },\n      {\n        \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.measureId\",\n        \"valueString\": \"ProportionDateBasisComponentStratSDEMulti\"\n      },\n      {\n        \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.measureTitle\",\n        \"valueString\": \"ProportionDateBasisComponentStratSDEMulti\"\n      },\n      {\n        \"url\": \"http:\/\/smilecdr.com\/fhir\/StructureDefinition\/extension-MeasureReport.jobId\",\n        \"valueString\": \"a08f03c3-f7e4-4bfa-8120-00db70c4e0b0\"\n      }\n    ],\n    \"status\": \"complete\",\n    \"type\": \"summary\",\n    \"measure\": \"http:\/\/example.com\/Measure\/ProportionDateBasisComponentStratSDEMulti\",\n    \"date\": \"2026-01-21T18:41:32+00:00\",\n    \"reporter\": {\n      \"reference\": \"Organization\/practice-group-utah\"\n    },\n    \"period\": {\n      \"start\": \"2024-01-11T00:00:00+00:00\",\n      \"end\": \"2024-12-31T23:59:59+00:00\"\n    },\n    \"group\": [\n      {\n        \"id\": \"group-1\",\n        \"population\": [\n          {\n            \"id\": \"initial-population\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"initial-population\",\n                  \"display\": \"Initial Population\"\n                }\n              ]\n            },\n            \"count\": 10\n          },\n          {\n            \"id\": \"denominator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator\",\n                  \"display\": \"Denominator\"\n                }\n              ]\n            },\n            \"count\": 6\n          },\n          {\n            \"id\": \"denominator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exclusion\",\n                  \"display\": \"Denominator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"denominator-exception\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exception\",\n                  \"display\": \"Denominator-Exception\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"numerator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator\",\n                  \"display\": \"Numerator\"\n                }\n              ]\n            },\n            \"count\": 2\n          },\n          {\n            \"id\": \"numerator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator-exclusion\",\n                  \"display\": \"Numerator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          }\n        ],\n        \"measureScore\": {\n          \"value\": 0.3333333333333333\n        },\n        \"stratifier\": [\n          {\n            \"id\": \"stratifier-1\",\n            \"code\": [\n              {\n                \"text\": \"boolean strat not finished\"\n              }\n            ],\n            \"stratum\": [\n              {\n                \"component\": [\n                  {\n                    \"code\": {\n                      \"text\": \"boolean strat not finished\"\n                    },\n                    \"value\": {\n                      \"text\": \"true\"\n                    }\n                  },\n                  {\n                    \"code\": {\n                      \"text\": \"Gender Stratification\"\n                    },\n                    \"value\": {\n                      \"text\": \"F\"\n                    }\n                  }\n                ],\n                \"population\": [\n                  {\n                    \"id\": \"initial-population\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"initial-population\",\n                          \"display\": \"Initial Population\"\n                        }\n                      ]\n                    },\n                    \"count\": 10\n                  },\n                  {\n                    \"id\": \"denominator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator\",\n                          \"display\": \"Denominator\"\n                        }\n                      ]\n                    },\n                    \"count\": 6\n                  },\n                  {\n                    \"id\": \"denominator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exclusion\",\n                          \"display\": \"Denominator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"denominator-exception\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exception\",\n                          \"display\": \"Denominator-Exception\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"numerator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator\",\n                          \"display\": \"Numerator\"\n                        }\n                      ]\n                    },\n                    \"count\": 2\n                  },\n                  {\n                    \"id\": \"numerator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator-exclusion\",\n                          \"display\": \"Numerator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  }\n                ],\n                \"measureScore\": {\n                  \"value\": 0.3333333333333333\n                }\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"id\": \"group-2\",\n        \"population\": [\n          {\n            \"id\": \"initial-population-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"initial-population\",\n                  \"display\": \"Initial Population\"\n                }\n              ]\n            },\n            \"count\": 10\n          },\n          {\n            \"id\": \"denominator-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator\",\n                  \"display\": \"Denominator\"\n                }\n              ]\n            },\n            \"count\": 6\n          },\n          {\n            \"id\": \"denominator-exclusion-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exclusion\",\n                  \"display\": \"Denominator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"numerator-2\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator\",\n                  \"display\": \"Numerator\"\n                }\n              ]\n            },\n            \"count\": 2\n          }\n        ],\n        \"measureScore\": {\n          \"value\": 0.3333333333333333\n        }\n      }\n    ]\n  },\n  \"measureId\": \"1ProportionDateCompStratSDEMulti\"\n}\n \n","line":6}},{"name":"def actual = __arg.actual","result":{"duration":574000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"karate.log('actual type:', typeof actual)","result":{"duration":436083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8,"doc_string":{"content_type":"","value":"11:13:51.501 actual type: object \n","line":8}},{"name":"karate.log('actual has group?:', actual.group != null)","result":{"duration":2563209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"11:13:51.503 actual has group?: true \n","line":9}},{"name":"def expected = __arg.expected","result":{"duration":337084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def measureId = __arg.measureId","result":{"duration":174167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def actualGroup = actual.group[0]","result":{"duration":314125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def expectedGroup = expected.group[0]","result":{"duration":818916,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"karate.log('\\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—')","result":{"duration":1208250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16,"doc_string":{"content_type":"","value":"11:13:51.506 \nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— \n","line":16}},{"name":"karate.log('â•‘  Comparing Populations for', measureId)","result":{"duration":998209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17,"doc_string":{"content_type":"","value":"11:13:51.507 â•‘  Comparing Populations for 1ProportionDateCompStratSDEMulti \n","line":17}},{"name":"karate.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\\n')","result":{"duration":653250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18,"doc_string":{"content_type":"","value":"11:13:51.508 â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n \n","line":18}},{"name":"def actualPops = actualGroup.population","result":{"duration":531833,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Extract populations"],"keyword":"> *","line":21},{"name":"def expectedPops = expectedGroup.population","result":{"duration":318083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"def allMatch = true","result":{"duration":250042,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Simple comparison using Karate match"],"keyword":"> *","line":25},{"name":"def comparisonResults = {}","result":{"duration":324166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"result":{"duration":12267041,"status":"passed"},"comments":["# Compare each expected population with actual"],"line":29,"name":"def comparePopulations =","match":{"location":"karate","arguments":[]},"keyword":"> *","doc_string":{"content_type":"","value":"function() {\n  for (var i = 0; i < expectedPops.length; i++) {\n    var exp = expectedPops[i];\n    var popCode = exp.code.coding[0].code;\n    var expCount = exp.count;\n    var act = actualPops.find(function(p) {\n      return p.code.coding[0].code === popCode;\n    });\n    var actCount = act ? act.count : 0;\n    var match = actCount === expCount;\n    comparisonResults[popCode] = {\n      actual: actCount,\n      expected: expCount,\n      match: match\n    };\n    if (match) {\n      karate.log('  âœ… ' + popCode + ': ' + actCount);\n    } else {\n      karate.log('  âŒ ' + popCode + ': Expected ' + expCount + ', Got ' + actCount);\n      allMatch = false;\n    }\n  }\n  return allMatch;\n}","line":29}},{"name":"def allMatch = comparePopulations()","result":{"duration":12230208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":61,"doc_string":{"content_type":"","value":"11:13:51.532   âœ… initial-population: 10 \n11:13:51.532   âœ… denominator: 6 \n11:13:51.533   âœ… denominator-exclusion: 0 \n11:13:51.533   âœ… denominator-exception: 0 \n11:13:51.534   âœ… numerator: 2 \n11:13:51.534   âœ… numerator-exclusion: 0 \n","line":61}},{"name":"karate.log('\\n' + (allMatch ? 'âœ… All populations match!' : 'âŒ Some populations do not match'))","result":{"duration":594583,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":63,"doc_string":{"content_type":"","value":"11:13:51.535 \nâœ… All populations match! \n","line":63}},{"name":"def measureScoreMatch = true","result":{"duration":158791,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Compare measure score if present"],"keyword":"> *","line":66},{"name":"def actualMeasureScore = actualGroup.measureScore ? actualGroup.measureScore.value : null","result":{"duration":390708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":67},{"name":"def expectedMeasureScore = expectedGroup.measureScore ? expectedGroup.measureScore.value : null","result":{"duration":311250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":68},{"name":"def compareMeasureScore =","result":{"duration":9166917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":70,"doc_string":{"content_type":"","value":"function() {\n  if (expectedMeasureScore === null && actualMeasureScore === null) {\n    karate.log('  â„¹ï¸  No measure score to compare');\n    return true;\n  }\n  if (expectedMeasureScore === null || actualMeasureScore === null) {\n    karate.log('  âŒ Measure score missing in one report');\n    return false;\n  }\n  \/\/ Compare with small tolerance for floating point precision\n  var tolerance = 0.0001;\n  var diff = Math.abs(actualMeasureScore - expectedMeasureScore);\n  var match = diff < tolerance;\n  if (match) {\n    karate.log('  â„¹ï¸  Measure Score: ' + actualMeasureScore.toFixed(4) + ' (matches expected)');\n  } else {\n    karate.log('  âš ï¸  Measure Score: Expected ' + expectedMeasureScore.toFixed(4) + ', Got ' + actualMeasureScore.toFixed(4) + ' (informational only)');\n  }\n  return match;\n}","line":70}},{"name":"def measureScoreMatch = compareMeasureScore()","result":{"duration":7076958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":97,"doc_string":{"content_type":"","value":"11:13:51.552   â„¹ï¸  Measure Score: 0.3333 (matches expected) \n","line":97}},{"name":"def stratifierResults = {}","result":{"duration":435458,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Compare stratifiers if present"],"keyword":"> *","line":100},{"name":"def stratifiersMatch = true","result":{"duration":388291,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":101},{"name":"def actualStratifiers = actualGroup.stratifier || []","result":{"duration":1483792,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":103},{"name":"def expectedStratifiers = expectedGroup.stratifier || []","result":{"duration":673458,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":104},{"name":"if (expectedStratifiers.length > 0) karate.log('\\nðŸ“Š Comparing Stratifiers...')","result":{"duration":2241458,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":106,"doc_string":{"content_type":"","value":"11:13:51.558 \nðŸ“Š Comparing Stratifiers... \n","line":106}},{"name":"def compareStratifiers =","result":{"duration":14077541,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":108,"doc_string":{"content_type":"","value":"function() {\n  if (expectedStratifiers.length === 0) return true;\n  var allStratMatch = true;\n  var stratResults = {};\n  for (var i = 0; i < expectedStratifiers.length; i++) {\n    var expStrat = expectedStratifiers[i];\n    var actStrat = actualStratifiers[i];\n    if (!actStrat) {\n      karate.log('  âŒ Stratifier ' + i + ' missing in actual report');\n      allStratMatch = false;\n      continue;\n    }\n    var stratCode = 'stratifier-' + i;\n    try {\n      if (expStrat.code && expStrat.code.length > 0 && expStrat.code[0].coding && expStrat.code[0].coding.length > 0) {\n        stratCode = expStrat.code[0].coding[0].code;\n      }\n    } catch (e) {\n      \/\/ Use default stratifier name\n    }\n    stratResults[stratCode] = { stratum: {} };\n    var expStratum = expStrat.stratum || [];\n    var actStratum = actStrat.stratum || [];\n    for (var j = 0; j < expStratum.length; j++) {\n      var expStrum = expStratum[j];\n      var actStrum = actStratum[j];\n      if (!actStrum) {\n        karate.log('  âŒ Stratum ' + j + ' missing');\n        allStratMatch = false;\n        continue;\n      }\n      var stratValue = expStrum.value ? expStrum.value.text : 'Stratum-' + j;\n      stratResults[stratCode].stratum[stratValue] = {};\n      var expPops = expStrum.population || [];\n      var actPops = actStrum.population || [];\n      for (var k = 0; k < expPops.length; k++) {\n        var expPop = expPops[k];\n        var popCode = expPop.code.coding[0].code;\n        var expCount = expPop.count;\n        var actPop = actPops.find(function(p) {\n          return p.code.coding[0].code === popCode;\n        });\n        var actCount = actPop ? actPop.count : 0;\n        var match = actCount === expCount;\n        stratResults[stratCode].stratum[stratValue][popCode] = {\n          expected: expCount,\n          actual: actCount,\n          match: match\n        };\n        if (match) {\n          karate.log('  âœ… [' + stratValue + '] ' + popCode + ': ' + actCount);\n        } else {\n          karate.log('  âŒ [' + stratValue + '] ' + popCode + ': Expected ' + expCount + ', Got ' + actCount);\n          allStratMatch = false;\n        }\n      }\n    }\n  }\n  stratifierResults = stratResults;\n  return allStratMatch;\n}","line":108}},{"name":"def stratifiersMatch = compareStratifiers()","result":{"duration":5531042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":188,"doc_string":{"content_type":"","value":"11:13:51.574   âŒ [Stratum-0] initial-population: Expected 10, Got 5 \n11:13:51.576   âŒ [Stratum-0] denominator: Expected 6, Got 3 \n11:13:51.576   âœ… [Stratum-0] denominator-exclusion: 0 \n11:13:51.576   âœ… [Stratum-0] denominator-exception: 0 \n11:13:51.577   âŒ [Stratum-0] numerator: Expected 2, Got 1 \n11:13:51.578   âœ… [Stratum-0] numerator-exclusion: 0 \n","line":188}},{"name":"karate.log('\\n' + (allMatch && stratifiersMatch ? 'âœ… All populations and stratifiers match!' : 'âŒ Some comparisons failed'))","result":{"duration":656125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":190,"doc_string":{"content_type":"","value":"11:13:51.579 \nâŒ Some comparisons failed \n","line":190}},{"name":"karate.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\\n')","result":{"duration":670334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":191,"doc_string":{"content_type":"","value":"11:13:51.579 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n \n","line":191}},{"name":"def overallMatch = allMatch && stratifiersMatch","result":{"duration":868458,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Return comparison result (measure score is informational only, doesn't affect pass\/fail)"],"keyword":"> *","line":194},{"name":"def measureScoreResult = { expected: '#(expectedMeasureScore)', actual: '#(actualMeasureScore)', match: '#(measureScoreMatch)' }","result":{"duration":1634209,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":195},{"name":"def comparisonResult = { populations: '#(comparisonResults)', stratifiers: '#(stratifierResults)', measureScore: '#(measureScoreResult)', allMatch: '#(overallMatch)', passed: '#(overallMatch)' }","result":{"duration":1659375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":196},{"result":{"duration":858917,"status":"passed"},"comments":["# Step 4: Print test summary for terminal visibility"],"line":33,"name":"print ''","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"11:13:51.585 [print]  \n","line":33}},{"name":"print 'â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—'","result":{"duration":1000417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34,"doc_string":{"content_type":"","value":"11:13:51.586 [print] â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— \n","line":34}},{"name":"print 'â•‘  TEST RESULT: ' + measureId","result":{"duration":503041,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":35,"doc_string":{"content_type":"","value":"11:13:51.587 [print] â•‘  TEST RESULT: 1ProportionDateCompStratSDEMulti \n","line":35}},{"name":"print 'â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•'","result":{"duration":315166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":36,"doc_string":{"content_type":"","value":"11:13:51.587 [print] â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• \n","line":36}},{"name":"def populations = comparison.comparisonResult.populations","result":{"duration":334167,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Print all population results dynamically"],"keyword":"*","line":39},{"name":"print ''","result":{"duration":252875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40,"doc_string":{"content_type":"","value":"11:13:51.588 [print]  \n","line":40}},{"name":"print 'POPULATIONS:'","result":{"duration":267792,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":41,"doc_string":{"content_type":"","value":"11:13:51.588 [print] POPULATIONS: \n","line":41}},{"name":"def printPopulations =","result":{"duration":1122834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":42,"doc_string":{"content_type":"","value":"function() {\n  var popKeys = Object.keys(populations);\n  for (var i = 0; i < popKeys.length; i++) {\n    var key = popKeys[i];\n    var pop = populations[key];\n    var icon = pop.match ? 'âœ…' : 'âŒ';\n    var msg = '  ' + icon + ' ' + key + ': Expected=' + pop.expected + ', Actual=' + pop.actual;\n    karate.log(msg);\n    print(msg);\n  }\n}","line":42}},{"name":"eval printPopulations()","result":{"duration":30830375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":56,"doc_string":{"content_type":"","value":"11:13:51.614   âœ… initial-population: Expected=10, Actual=10 \n11:13:51.619   âœ… denominator: Expected=6, Actual=6 \n11:13:51.619   âœ… denominator-exclusion: Expected=0, Actual=0 \n11:13:51.619   âœ… denominator-exception: Expected=0, Actual=0 \n11:13:51.620   âœ… numerator: Expected=2, Actual=2 \n11:13:51.620   âœ… numerator-exclusion: Expected=0, Actual=0 \n","line":56}},{"name":"def stratifiers = comparison.comparisonResult.stratifiers","result":{"duration":2126375,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Print stratifier results if present"],"keyword":"*","line":59},{"name":"def hasStratifiers = Object.keys(stratifiers).length > 0","result":{"duration":899084,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":60},{"name":"def printStratifiers =","result":{"duration":18415167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":61,"doc_string":{"content_type":"","value":"function() {\n  if (!hasStratifiers) return;\n  print('');\n  print('STRATIFIERS:');\n  var stratKeys = Object.keys(stratifiers);\n  for (var i = 0; i < stratKeys.length; i++) {\n    var stratCode = stratKeys[i];\n    var strat = stratifiers[stratCode];\n    print('  Stratifier: ' + stratCode);\n    var stratumKeys = Object.keys(strat.stratum);\n    for (var j = 0; j < stratumKeys.length; j++) {\n      var stratumValue = stratumKeys[j];\n      var stratum = strat.stratum[stratumValue];\n      print('    [' + stratumValue + ']');\n      var popKeys = Object.keys(stratum);\n      for (var k = 0; k < popKeys.length; k++) {\n        var popCode = popKeys[k];\n        var pop = stratum[popCode];\n        var icon = pop.match ? 'âœ…' : 'âŒ';\n        var msg = '      ' + icon + ' ' + popCode + ': Expected=' + pop.expected + ', Actual=' + pop.actual;\n        print(msg);\n      }\n    }\n  }\n}","line":61}},{"name":"eval printStratifiers()","result":{"duration":6225666,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":92},{"result":{"duration":517583,"status":"passed"},"comments":["# Print overall result"],"line":95,"name":"print ''","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"11:13:51.649 [print]  \n","line":95}},{"name":"def testResult = comparison.comparisonResult.passed ? 'âœ… PASSED - All assertions match!' : 'âŒ FAILED - Some assertions do not match'","result":{"duration":917333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":96},{"name":"print testResult","result":{"duration":740625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":97,"doc_string":{"content_type":"","value":"11:13:51.651 [print] âŒ FAILED - Some assertions do not match \n","line":97}},{"name":"print ''","result":{"duration":256709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":98,"doc_string":{"content_type":"","value":"11:13:51.651 [print]  \n","line":98}},{"result":{"duration":9516000,"error_message":"did not evaluate to 'true': comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'\nclasspath:features\/measures\/measure-01.feature:101","status":"failed"},"comments":["# Step 5: Assert all populations match"],"line":101,"name":"assert comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"11:13:51.662 classpath:features\/measures\/measure-01.feature:101\n* assert comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'\ndid not evaluate to 'true': comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'\nclasspath:features\/measures\/measure-01.feature:101\n","line":101}}],"tags":[]}],"name":"features\/measures\/measure-01.feature","description":"Measure 01 - Proportion Date with Stratifiers","id":"measure-01---proportion-date-with-stratifiers","keyword":"Feature","uri":"features\/measures\/measure-01.feature"}]