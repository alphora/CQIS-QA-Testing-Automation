[{"line":1,"elements":[{"line":3,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def measureId = '3ProportionStringCriteria'","result":{"duration":237208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":4,"doc_string":{"content_type":"","value":"11:13:53.123 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• \n11:13:53.123 Karate Environment: dev \n11:13:53.123 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• \n11:13:53.124 FHIR Server: http:\/\/localhost:8000 \n11:13:53.124 Report Type: summary \n11:13:53.124 Test Patients: [\n  \"patient1\",\n  \"patient2\"\n]\n \n11:13:53.124 Save Reports: true \n11:13:53.124 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n \n","line":4}}]},{"start_timestamp":"2026-02-10T16:13:53.121Z","line":6,"name":"Evaluate and Validate Measure 03","description":"","id":"evaluate-and-validate-measure-03","type":"scenario","keyword":"Scenario","steps":[{"name":"def result = call read('classpath:features\/common\/evaluate-measure.feature') { measureId: '#(measureId)' }","result":{"duration":111533041,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 1: Evaluate measure (calls common function)"],"keyword":"*","line":9},{"name":"features\/common\/evaluate-measure.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":9},{"name":"url fhirServerUrl","result":{"duration":42584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":5},{"name":"configure headers = { 'Content-Type': 'application\/fhir+json', 'Accept': 'application\/fhir+json' }","result":{"duration":115625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6},{"name":"def Base64 = Java.type('java.util.Base64')","result":{"duration":312709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"def credentials = auth.username + ':' + auth.password","result":{"duration":259375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8},{"name":"def encodedCredentials = Base64.getEncoder().encodeToString(credentials.getBytes())","result":{"duration":348042,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9},{"name":"header Authorization = 'Basic ' + encodedCredentials","result":{"duration":120791,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def measureId = __arg.measureId","result":{"duration":172333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def evaluationRequest =","result":{"duration":5210791,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14,"doc_string":{"content_type":"","value":"{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n    {\n      \"name\": \"periodStart\",\n      \"valueString\": \"#(evaluationParams.periodStart)\"\n    },\n    {\n      \"name\": \"periodEnd\",\n      \"valueString\": \"#(evaluationParams.periodEnd)\"\n    },\n    {\n      \"name\": \"measureId\",\n      \"valueString\": \"#(measureId)\"\n    }\n  ]\n}","line":14}},{"name":"path 'Measure', '$evaluate-measures'","result":{"duration":328959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":35},{"name":"request evaluationRequest","result":{"duration":39959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":36},{"name":"method post","result":{"duration":96583917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":37,"doc_string":{"content_type":"","value":"11:13:53.141 request:\n1 > POST http:\/\/localhost:8000\/Measure\/$evaluate-measures\n1 > Authorization: Basic YWRtaW46cGFzc3dvcmQ=\n1 > Content-Type: application\/fhir+json; charset=UTF-8\n1 > Accept: application\/fhir+json\n1 > Content-Length: 204\n1 > Host: localhost:8000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n    {\n      \"name\": \"periodStart\",\n      \"valueString\": \"2024-01-01\"\n    },\n    {\n      \"name\": \"periodEnd\",\n      \"valueString\": \"2024-12-31\"\n    },\n    {\n      \"name\": \"measureId\",\n      \"valueString\": \"3ProportionStringCriteria\"\n    }\n  ]\n}\n\n\n11:13:53.235 response time in milliseconds: 93\n1 < 200\n1 < Date: Tue, 10 Feb 2026 16:13:53 GMT\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Powered-By: Smile CDR 2026.02.PRE FHIR REST Endpoint (FHIR Server; FHIR 4.0.1\/R4; HAPI FHIR 8.7.11-SNAPSHOT)\n1 < X-Request-ID: USZ9vWNHT4VNTx00\n1 < Content-Type: application\/fhir+json;charset=utf-8\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 0\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Pragma: no-cache\n1 < Expires: 0\n1 < X-Frame-Options: DENY\n1 < Transfer-Encoding: chunked\n{\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n    {\n      \"name\": \"return\",\n      \"resource\": {\n        \"resourceType\": \"Bundle\",\n        \"id\": \"ff24468b-bc80-442f-b8b3-9a9cf50dd860\",\n        \"identifier\": {\n          \"system\": \"urn:ietf:rfc:3986\",\n          \"value\": \"urn:uuid:5357b71c-6936-42a9-8e0d-6385de0d1191\"\n        },\n        \"type\": \"searchset\",\n        \"timestamp\": \"2026-02-10T11:13:53.222-05:00\",\n        \"entry\": [\n          {\n            \"fullUrl\": \"http:\/\/localhost:8000\/MeasureReport\/e9a08ac1-4041-4493-9429-6c889b20e569\",\n            \"resource\": {\n              \"resourceType\": \"MeasureReport\",\n              \"id\": \"e9a08ac1-4041-4493-9429-6c889b20e569\",\n              \"contained\": [\n                {\n                  \"resourceType\": \"Observation\",\n                  \"id\": \"86b95c4e-7e78-4f78-b947-b853ebc97031\",\n                  \"extension\": [\n                    {\n                      \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n                      \"extension\": [\n                        {\n                          \"url\": \"measure\",\n                          \"valueCanonical\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"status\": \"final\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"code\": \"F\"\n                      }\n                    ]\n                  },\n                  \"valueInteger\": 2\n                }\n              ],\n              \"extension\": [\n                {\n                  \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n                  \"valueReference\": {\n                    \"extension\": [\n                      {\n                        \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n                        \"valueString\": \"sde-patient-sex\"\n                      }\n                    ],\n                    \"reference\": \"#86b95c4e-7e78-4f78-b947-b853ebc97031\"\n                  }\n                }\n              ],\n              \"status\": \"complete\",\n              \"type\": \"summary\",\n              \"measure\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\",\n              \"date\": \"2026-02-10T11:13:53-05:00\",\n              \"period\": {\n                \"start\": \"2023-12-31T19:00:00-05:00\",\n                \"end\": \"2024-12-31T18:59:59-05:00\"\n              },\n              \"group\": [\n                {\n                  \"id\": \"group-1\",\n                  \"population\": [\n                    {\n                      \"id\": \"initial-population\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"initial-population\",\n                            \"display\": \"Initial Population\"\n                          }\n                        ]\n                      },\n                      \"count\": 6\n                    },\n                    {\n                      \"id\": \"denominator\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator\",\n                            \"display\": \"Denominator\"\n                          }\n                        ]\n                      },\n                      \"count\": 4\n                    },\n                    {\n                      \"id\": \"denominator-exclusion\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator-exclusion\",\n                            \"display\": \"Denominator-Exclusion\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    },\n                    {\n                      \"id\": \"denominator-exception\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator-exception\",\n                            \"display\": \"Denominator-Exception\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    },\n                    {\n                      \"id\": \"numerator\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"numerator\",\n                            \"display\": \"Numerator\"\n                          }\n                        ]\n                      },\n                      \"count\": 2\n                    },\n                    {\n                      \"id\": \"numerator-exclusion\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"numerator-exclusion\",\n                            \"display\": \"Numerator-Exclusion\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    }\n                  ],\n                  \"measureScore\": {\n                    \"value\": 0.5\n                  },\n                  \"stratifier\": [\n                    {\n                      \"id\": \"stratifier-1\",\n                      \"code\": [\n                        {\n                          \"text\": \"Age and Gender Stratification\"\n                        }\n                      ],\n                      \"stratum\": [\n                        {\n                          \"value\": {\n                            \"text\": \"female\"\n                          },\n                          \"population\": [\n                            {\n                              \"id\": \"initial-population\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"initial-population\",\n                                    \"display\": \"Initial Population\"\n                                  }\n                                ]\n                              },\n                              \"count\": 3\n                            },\n                            {\n                              \"id\": \"denominator\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator\",\n                                    \"display\": \"Denominator\"\n                                  }\n                                ]\n                              },\n                              \"count\": 2\n                            },\n                            {\n                              \"id\": \"denominator-exclusion\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator-exclusion\",\n                                    \"display\": \"Denominator-Exclusion\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"denominator-exception\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator-exception\",\n                                    \"display\": \"Denominator-Exception\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"numerator\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"numerator\",\n                                    \"display\": \"Numerator\"\n                                  }\n                                ]\n                              },\n                              \"count\": 1\n                            },\n                            {\n                              \"id\": \"numerator-exclusion\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"numerator-exclusion\",\n                                    \"display\": \"Numerator-Exclusion\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            }\n                          ],\n                          \"measureScore\": {\n                            \"value\": 0.5\n                          }\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n\n\n","line":37}},{"name":"status 200","result":{"duration":11292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":38},{"name":"def bundle = response.parameter[0].resource","result":{"duration":481000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":40},{"name":"def measureReport = bundle.entry[0].resource","result":{"duration":181625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":41},{"name":"def actualReport = result.measureReport","result":{"duration":226584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":10},{"name":"karate.log('actualReport:', actualReport)","result":{"duration":612792,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":11,"doc_string":{"content_type":"","value":"11:13:53.240 actualReport: {\n  \"resourceType\": \"MeasureReport\",\n  \"id\": \"e9a08ac1-4041-4493-9429-6c889b20e569\",\n  \"contained\": [\n    {\n      \"resourceType\": \"Observation\",\n      \"id\": \"86b95c4e-7e78-4f78-b947-b853ebc97031\",\n      \"extension\": [\n        {\n          \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n          \"extension\": [\n            {\n              \"url\": \"measure\",\n              \"valueCanonical\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\"\n            }\n          ]\n        }\n      ],\n      \"status\": \"final\",\n      \"code\": {\n        \"coding\": [\n          {\n            \"code\": \"F\"\n          }\n        ]\n      },\n      \"valueInteger\": 2\n    }\n  ],\n  \"extension\": [\n    {\n      \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n      \"valueReference\": {\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n            \"valueString\": \"sde-patient-sex\"\n          }\n        ],\n        \"reference\": \"#86b95c4e-7e78-4f78-b947-b853ebc97031\"\n      }\n    }\n  ],\n  \"status\": \"complete\",\n  \"type\": \"summary\",\n  \"measure\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\",\n  \"date\": \"2026-02-10T11:13:53-05:00\",\n  \"period\": {\n    \"start\": \"2023-12-31T19:00:00-05:00\",\n    \"end\": \"2024-12-31T18:59:59-05:00\"\n  },\n  \"group\": [\n    {\n      \"id\": \"group-1\",\n      \"population\": [\n        {\n          \"id\": \"initial-population\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"initial-population\",\n                \"display\": \"Initial Population\"\n              }\n            ]\n          },\n          \"count\": 6\n        },\n        {\n          \"id\": \"denominator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator\",\n                \"display\": \"Denominator\"\n              }\n            ]\n          },\n          \"count\": 4\n        },\n        {\n          \"id\": \"denominator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exclusion\",\n                \"display\": \"Denominator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"denominator-exception\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exception\",\n                \"display\": \"Denominator-Exception\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"numerator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator\",\n                \"display\": \"Numerator\"\n              }\n            ]\n          },\n          \"count\": 2\n        },\n        {\n          \"id\": \"numerator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator-exclusion\",\n                \"display\": \"Numerator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        }\n      ],\n      \"measureScore\": {\n        \"value\": 0.5\n      },\n      \"stratifier\": [\n        {\n          \"id\": \"stratifier-1\",\n          \"code\": [\n            {\n              \"text\": \"Age and Gender Stratification\"\n            }\n          ],\n          \"stratum\": [\n            {\n              \"value\": {\n                \"text\": \"female\"\n              },\n              \"population\": [\n                {\n                  \"id\": \"initial-population\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"initial-population\",\n                        \"display\": \"Initial Population\"\n                      }\n                    ]\n                  },\n                  \"count\": 3\n                },\n                {\n                  \"id\": \"denominator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator\",\n                        \"display\": \"Denominator\"\n                      }\n                    ]\n                  },\n                  \"count\": 2\n                },\n                {\n                  \"id\": \"denominator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exclusion\",\n                        \"display\": \"Denominator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"denominator-exception\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exception\",\n                        \"display\": \"Denominator-Exception\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"numerator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator\",\n                        \"display\": \"Numerator\"\n                      }\n                    ]\n                  },\n                  \"count\": 1\n                },\n                {\n                  \"id\": \"numerator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator-exclusion\",\n                        \"display\": \"Numerator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                }\n              ],\n              \"measureScore\": {\n                \"value\": 0.5\n              }\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n \n","line":11}},{"name":"karate.log('actualReport type:', typeof actualReport)","result":{"duration":245333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":12,"doc_string":{"content_type":"","value":"11:13:53.241 actualReport type: object \n","line":12}},{"name":"def actualReportFile = 'test-output\/actual-reports\/' + measureId + '-actual.json'","result":{"duration":4780042,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Save actual report to file for review"],"keyword":"*","line":15},{"name":"karate.write(actualReport, actualReportFile)","result":{"duration":81558375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16,"doc_string":{"content_type":"","value":"11:13:53.327 write to file: target\/test-output\/actual-reports\/3ProportionStringCriteria-actual.json\n","line":16}},{"name":"karate.log('ðŸ’¾ Actual report saved to:', actualReportFile)","result":{"duration":11897083,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":17,"doc_string":{"content_type":"","value":"11:13:53.339 ðŸ’¾ Actual report saved to: test-output\/actual-reports\/3ProportionStringCriteria-actual.json \n","line":17}},{"name":"def expectedReportRaw = read('classpath:expected-results\/3ProportionStringCriteriaResponse.json')","result":{"duration":2906375,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 2: Load expected report"],"keyword":"*","line":20},{"name":"karate.log('expectedReportRaw:', expectedReportRaw)","result":{"duration":631875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":21,"doc_string":{"content_type":"","value":"11:13:53.343 expectedReportRaw: {\n  \"resourceType\": \"Parameters\",\n  \"parameter\": [\n    {\n      \"name\": \"return\",\n      \"resource\": {\n        \"resourceType\": \"Bundle\",\n        \"id\": \"17681ed9-22ec-439b-9b65-712c03fcfac2\",\n        \"identifier\": {\n          \"system\": \"urn:ietf:rfc:3986\",\n          \"value\": \"urn:uuid:863fdff7-a802-435c-8587-da462bb24f85\"\n        },\n        \"type\": \"searchset\",\n        \"timestamp\": \"2026-02-09T15:34:23.889-05:00\",\n        \"entry\": [\n          {\n            \"fullUrl\": \"http:\/\/localhost:8000\/MeasureReport\/f17a88f5-8c03-466e-9de7-7e246ae38fa1\",\n            \"resource\": {\n              \"resourceType\": \"MeasureReport\",\n              \"id\": \"f17a88f5-8c03-466e-9de7-7e246ae38fa1\",\n              \"contained\": [\n                {\n                  \"resourceType\": \"Observation\",\n                  \"id\": \"909a511c-823f-4f4c-8012-34f987cc4ae2\",\n                  \"extension\": [\n                    {\n                      \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n                      \"extension\": [\n                        {\n                          \"url\": \"measure\",\n                          \"valueCanonical\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"status\": \"final\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"code\": \"F\"\n                      }\n                    ]\n                  },\n                  \"valueInteger\": 2\n                }\n              ],\n              \"extension\": [\n                {\n                  \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n                  \"valueReference\": {\n                    \"extension\": [\n                      {\n                        \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n                        \"valueString\": \"sde-patient-sex\"\n                      }\n                    ],\n                    \"reference\": \"#909a511c-823f-4f4c-8012-34f987cc4ae2\"\n                  }\n                }\n              ],\n              \"status\": \"complete\",\n              \"type\": \"summary\",\n              \"measure\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\",\n              \"date\": \"2026-02-09T15:34:23-05:00\",\n              \"period\": {\n                \"start\": \"2023-12-31T19:00:00-05:00\",\n                \"end\": \"2024-12-31T18:59:59-05:00\"\n              },\n              \"group\": [\n                {\n                  \"id\": \"group-1\",\n                  \"population\": [\n                    {\n                      \"id\": \"initial-population\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"initial-population\",\n                            \"display\": \"Initial Population\"\n                          }\n                        ]\n                      },\n                      \"count\": 6\n                    },\n                    {\n                      \"id\": \"denominator\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator\",\n                            \"display\": \"Denominator\"\n                          }\n                        ]\n                      },\n                      \"count\": 4\n                    },\n                    {\n                      \"id\": \"denominator-exclusion\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator-exclusion\",\n                            \"display\": \"Denominator-Exclusion\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    },\n                    {\n                      \"id\": \"denominator-exception\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"denominator-exception\",\n                            \"display\": \"Denominator-Exception\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    },\n                    {\n                      \"id\": \"numerator\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"numerator\",\n                            \"display\": \"Numerator\"\n                          }\n                        ]\n                      },\n                      \"count\": 2\n                    },\n                    {\n                      \"id\": \"numerator-exclusion\",\n                      \"code\": {\n                        \"coding\": [\n                          {\n                            \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                            \"code\": \"numerator-exclusion\",\n                            \"display\": \"Numerator-Exclusion\"\n                          }\n                        ]\n                      },\n                      \"count\": 0\n                    }\n                  ],\n                  \"measureScore\": {\n                    \"value\": 0.5\n                  },\n                  \"stratifier\": [\n                    {\n                      \"id\": \"stratifier\",\n                      \"code\": [\n                        {\n                          \"text\": \"list of string\"\n                        }\n                      ],\n                      \"stratum\": [\n                        {\n                          \"population\": [\n                            {\n                              \"id\": \"initial-population\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"initial-population\",\n                                    \"display\": \"Initial Population\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"denominator\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator\",\n                                    \"display\": \"Denominator\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"denominator-exclusion\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator-exclusion\",\n                                    \"display\": \"Denominator-Exclusion\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"denominator-exception\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"denominator-exception\",\n                                    \"display\": \"Denominator-Exception\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"numerator\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"numerator\",\n                                    \"display\": \"Numerator\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            },\n                            {\n                              \"id\": \"numerator-exclusion\",\n                              \"code\": {\n                                \"coding\": [\n                                  {\n                                    \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                                    \"code\": \"numerator-exclusion\",\n                                    \"display\": \"Numerator-Exclusion\"\n                                  }\n                                ]\n                              },\n                              \"count\": 0\n                            }\n                          ]\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n \n","line":21}},{"name":"def expectedReport = expectedReportRaw.resourceType == 'Parameters' ? expectedReportRaw.parameter[0].resource.entry[0].resource : expectedReportRaw","result":{"duration":298125,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Extract MeasureReport from Parameters\/Bundle structure if needed"],"keyword":"*","line":24},{"name":"karate.log('Extracted expectedReport:', expectedReport)","result":{"duration":15623125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":25,"doc_string":{"content_type":"","value":"11:13:53.359 Extracted expectedReport: {\n  \"resourceType\": \"MeasureReport\",\n  \"id\": \"f17a88f5-8c03-466e-9de7-7e246ae38fa1\",\n  \"contained\": [\n    {\n      \"resourceType\": \"Observation\",\n      \"id\": \"909a511c-823f-4f4c-8012-34f987cc4ae2\",\n      \"extension\": [\n        {\n          \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n          \"extension\": [\n            {\n              \"url\": \"measure\",\n              \"valueCanonical\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\"\n            }\n          ]\n        }\n      ],\n      \"status\": \"final\",\n      \"code\": {\n        \"coding\": [\n          {\n            \"code\": \"F\"\n          }\n        ]\n      },\n      \"valueInteger\": 2\n    }\n  ],\n  \"extension\": [\n    {\n      \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n      \"valueReference\": {\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n            \"valueString\": \"sde-patient-sex\"\n          }\n        ],\n        \"reference\": \"#909a511c-823f-4f4c-8012-34f987cc4ae2\"\n      }\n    }\n  ],\n  \"status\": \"complete\",\n  \"type\": \"summary\",\n  \"measure\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\",\n  \"date\": \"2026-02-09T15:34:23-05:00\",\n  \"period\": {\n    \"start\": \"2023-12-31T19:00:00-05:00\",\n    \"end\": \"2024-12-31T18:59:59-05:00\"\n  },\n  \"group\": [\n    {\n      \"id\": \"group-1\",\n      \"population\": [\n        {\n          \"id\": \"initial-population\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"initial-population\",\n                \"display\": \"Initial Population\"\n              }\n            ]\n          },\n          \"count\": 6\n        },\n        {\n          \"id\": \"denominator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator\",\n                \"display\": \"Denominator\"\n              }\n            ]\n          },\n          \"count\": 4\n        },\n        {\n          \"id\": \"denominator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exclusion\",\n                \"display\": \"Denominator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"denominator-exception\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"denominator-exception\",\n                \"display\": \"Denominator-Exception\"\n              }\n            ]\n          },\n          \"count\": 0\n        },\n        {\n          \"id\": \"numerator\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator\",\n                \"display\": \"Numerator\"\n              }\n            ]\n          },\n          \"count\": 2\n        },\n        {\n          \"id\": \"numerator-exclusion\",\n          \"code\": {\n            \"coding\": [\n              {\n                \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                \"code\": \"numerator-exclusion\",\n                \"display\": \"Numerator-Exclusion\"\n              }\n            ]\n          },\n          \"count\": 0\n        }\n      ],\n      \"measureScore\": {\n        \"value\": 0.5\n      },\n      \"stratifier\": [\n        {\n          \"id\": \"stratifier\",\n          \"code\": [\n            {\n              \"text\": \"list of string\"\n            }\n          ],\n          \"stratum\": [\n            {\n              \"population\": [\n                {\n                  \"id\": \"initial-population\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"initial-population\",\n                        \"display\": \"Initial Population\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"denominator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator\",\n                        \"display\": \"Denominator\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"denominator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exclusion\",\n                        \"display\": \"Denominator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"denominator-exception\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"denominator-exception\",\n                        \"display\": \"Denominator-Exception\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"numerator\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator\",\n                        \"display\": \"Numerator\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                },\n                {\n                  \"id\": \"numerator-exclusion\",\n                  \"code\": {\n                    \"coding\": [\n                      {\n                        \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                        \"code\": \"numerator-exclusion\",\n                        \"display\": \"Numerator-Exclusion\"\n                      }\n                    ]\n                  },\n                  \"count\": 0\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n \n","line":25}},{"name":"match actualReport.group == '#present'","result":{"duration":441584,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Verify reports have groups"],"keyword":"*","line":28},{"name":"match expectedReport.group == '#present'","result":{"duration":485917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":29},{"name":"karate.set('actualForComparison', actualReport)","result":{"duration":10899166,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Step 3: Compare reports (calls common function)"],"keyword":"*","line":32},{"name":"karate.set('expectedForComparison', expectedReport)","result":{"duration":8487542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":33},{"name":"def comparison = karate.call('classpath:features\/common\/compare-reports.feature', { actual: karate.get('actualForComparison'), expected: karate.get('expectedForComparison'), measureId: measureId })","result":{"duration":138091500,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":34},{"name":"features\/common\/compare-reports.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":34},{"name":"karate.log('__arg:', __arg)","result":{"duration":949375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":6,"doc_string":{"content_type":"","value":"11:13:53.404 __arg: {\n  \"actual\": {\n    \"resourceType\": \"MeasureReport\",\n    \"id\": \"e9a08ac1-4041-4493-9429-6c889b20e569\",\n    \"contained\": [\n      {\n        \"resourceType\": \"Observation\",\n        \"id\": \"86b95c4e-7e78-4f78-b947-b853ebc97031\",\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n            \"extension\": [\n              {\n                \"url\": \"measure\",\n                \"valueCanonical\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\"\n              }\n            ]\n          }\n        ],\n        \"status\": \"final\",\n        \"code\": {\n          \"coding\": [\n            {\n              \"code\": \"F\"\n            }\n          ]\n        },\n        \"valueInteger\": 2\n      }\n    ],\n    \"extension\": [\n      {\n        \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n        \"valueReference\": {\n          \"extension\": [\n            {\n              \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n              \"valueString\": \"sde-patient-sex\"\n            }\n          ],\n          \"reference\": \"#86b95c4e-7e78-4f78-b947-b853ebc97031\"\n        }\n      }\n    ],\n    \"status\": \"complete\",\n    \"type\": \"summary\",\n    \"measure\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\",\n    \"date\": \"2026-02-10T11:13:53-05:00\",\n    \"period\": {\n      \"start\": \"2023-12-31T19:00:00-05:00\",\n      \"end\": \"2024-12-31T18:59:59-05:00\"\n    },\n    \"group\": [\n      {\n        \"id\": \"group-1\",\n        \"population\": [\n          {\n            \"id\": \"initial-population\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"initial-population\",\n                  \"display\": \"Initial Population\"\n                }\n              ]\n            },\n            \"count\": 6\n          },\n          {\n            \"id\": \"denominator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator\",\n                  \"display\": \"Denominator\"\n                }\n              ]\n            },\n            \"count\": 4\n          },\n          {\n            \"id\": \"denominator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exclusion\",\n                  \"display\": \"Denominator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"denominator-exception\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exception\",\n                  \"display\": \"Denominator-Exception\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"numerator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator\",\n                  \"display\": \"Numerator\"\n                }\n              ]\n            },\n            \"count\": 2\n          },\n          {\n            \"id\": \"numerator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator-exclusion\",\n                  \"display\": \"Numerator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          }\n        ],\n        \"measureScore\": {\n          \"value\": 0.5\n        },\n        \"stratifier\": [\n          {\n            \"id\": \"stratifier-1\",\n            \"code\": [\n              {\n                \"text\": \"Age and Gender Stratification\"\n              }\n            ],\n            \"stratum\": [\n              {\n                \"value\": {\n                  \"text\": \"female\"\n                },\n                \"population\": [\n                  {\n                    \"id\": \"initial-population\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"initial-population\",\n                          \"display\": \"Initial Population\"\n                        }\n                      ]\n                    },\n                    \"count\": 3\n                  },\n                  {\n                    \"id\": \"denominator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator\",\n                          \"display\": \"Denominator\"\n                        }\n                      ]\n                    },\n                    \"count\": 2\n                  },\n                  {\n                    \"id\": \"denominator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exclusion\",\n                          \"display\": \"Denominator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"denominator-exception\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exception\",\n                          \"display\": \"Denominator-Exception\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"numerator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator\",\n                          \"display\": \"Numerator\"\n                        }\n                      ]\n                    },\n                    \"count\": 1\n                  },\n                  {\n                    \"id\": \"numerator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator-exclusion\",\n                          \"display\": \"Numerator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  }\n                ],\n                \"measureScore\": {\n                  \"value\": 0.5\n                }\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  \"expected\": {\n    \"resourceType\": \"MeasureReport\",\n    \"id\": \"f17a88f5-8c03-466e-9de7-7e246ae38fa1\",\n    \"contained\": [\n      {\n        \"resourceType\": \"Observation\",\n        \"id\": \"909a511c-823f-4f4c-8012-34f987cc4ae2\",\n        \"extension\": [\n          {\n            \"url\": \"http:\/\/hl7.org\/fhir\/StructureDefinition\/cqf-measureInfo\",\n            \"extension\": [\n              {\n                \"url\": \"measure\",\n                \"valueCanonical\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\"\n              }\n            ]\n          }\n        ],\n        \"status\": \"final\",\n        \"code\": {\n          \"coding\": [\n            {\n              \"code\": \"F\"\n            }\n          ]\n        },\n        \"valueInteger\": 2\n      }\n    ],\n    \"extension\": [\n      {\n        \"url\": \"http:\/\/hl7.org\/fhir\/5.0\/StructureDefinition\/extension-MeasureReport.supplementalDataElement.reference\",\n        \"valueReference\": {\n          \"extension\": [\n            {\n              \"url\": \"http:\/\/hl7.org\/fhir\/us\/davinci-deqm\/StructureDefinition\/extension-criteriaReference\",\n              \"valueString\": \"sde-patient-sex\"\n            }\n          ],\n          \"reference\": \"#909a511c-823f-4f4c-8012-34f987cc4ae2\"\n        }\n      }\n    ],\n    \"status\": \"complete\",\n    \"type\": \"summary\",\n    \"measure\": \"http:\/\/example.com\/Measure\/3ProportionStringCriteria\",\n    \"date\": \"2026-02-09T15:34:23-05:00\",\n    \"period\": {\n      \"start\": \"2023-12-31T19:00:00-05:00\",\n      \"end\": \"2024-12-31T18:59:59-05:00\"\n    },\n    \"group\": [\n      {\n        \"id\": \"group-1\",\n        \"population\": [\n          {\n            \"id\": \"initial-population\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"initial-population\",\n                  \"display\": \"Initial Population\"\n                }\n              ]\n            },\n            \"count\": 6\n          },\n          {\n            \"id\": \"denominator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator\",\n                  \"display\": \"Denominator\"\n                }\n              ]\n            },\n            \"count\": 4\n          },\n          {\n            \"id\": \"denominator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exclusion\",\n                  \"display\": \"Denominator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"denominator-exception\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"denominator-exception\",\n                  \"display\": \"Denominator-Exception\"\n                }\n              ]\n            },\n            \"count\": 0\n          },\n          {\n            \"id\": \"numerator\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator\",\n                  \"display\": \"Numerator\"\n                }\n              ]\n            },\n            \"count\": 2\n          },\n          {\n            \"id\": \"numerator-exclusion\",\n            \"code\": {\n              \"coding\": [\n                {\n                  \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                  \"code\": \"numerator-exclusion\",\n                  \"display\": \"Numerator-Exclusion\"\n                }\n              ]\n            },\n            \"count\": 0\n          }\n        ],\n        \"measureScore\": {\n          \"value\": 0.5\n        },\n        \"stratifier\": [\n          {\n            \"id\": \"stratifier\",\n            \"code\": [\n              {\n                \"text\": \"list of string\"\n              }\n            ],\n            \"stratum\": [\n              {\n                \"population\": [\n                  {\n                    \"id\": \"initial-population\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"initial-population\",\n                          \"display\": \"Initial Population\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"denominator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator\",\n                          \"display\": \"Denominator\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"denominator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exclusion\",\n                          \"display\": \"Denominator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"denominator-exception\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"denominator-exception\",\n                          \"display\": \"Denominator-Exception\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"numerator\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator\",\n                          \"display\": \"Numerator\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  },\n                  {\n                    \"id\": \"numerator-exclusion\",\n                    \"code\": {\n                      \"coding\": [\n                        {\n                          \"system\": \"http:\/\/terminology.hl7.org\/CodeSystem\/measure-population\",\n                          \"code\": \"numerator-exclusion\",\n                          \"display\": \"Numerator-Exclusion\"\n                        }\n                      ]\n                    },\n                    \"count\": 0\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  \"measureId\": \"3ProportionStringCriteria\"\n}\n \n","line":6}},{"name":"def actual = __arg.actual","result":{"duration":272750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":7},{"name":"karate.log('actual type:', typeof actual)","result":{"duration":234584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":8,"doc_string":{"content_type":"","value":"11:13:53.405 actual type: object \n","line":8}},{"name":"karate.log('actual has group?:', actual.group != null)","result":{"duration":228667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":9,"doc_string":{"content_type":"","value":"11:13:53.405 actual has group?: true \n","line":9}},{"name":"def expected = __arg.expected","result":{"duration":4053875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":10},{"name":"def measureId = __arg.measureId","result":{"duration":822833,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":11},{"name":"def actualGroup = actual.group[0]","result":{"duration":3738166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":13},{"name":"def expectedGroup = expected.group[0]","result":{"duration":740417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":14},{"name":"karate.log('\\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—')","result":{"duration":846167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":16,"doc_string":{"content_type":"","value":"11:13:53.418 \nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— \n","line":16}},{"name":"karate.log('â•‘  Comparing Populations for', measureId)","result":{"duration":761167,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":17,"doc_string":{"content_type":"","value":"11:13:53.419 â•‘  Comparing Populations for 3ProportionStringCriteria \n","line":17}},{"name":"karate.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\\n')","result":{"duration":246166,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":18,"doc_string":{"content_type":"","value":"11:13:53.419 â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n \n","line":18}},{"name":"def actualPops = actualGroup.population","result":{"duration":213583,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Extract populations"],"keyword":"> *","line":21},{"name":"def expectedPops = expectedGroup.population","result":{"duration":126708,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":22},{"name":"def allMatch = true","result":{"duration":149833,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Simple comparison using Karate match"],"keyword":"> *","line":25},{"name":"def comparisonResults = {}","result":{"duration":156667,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":26},{"result":{"duration":9810625,"status":"passed"},"comments":["# Compare each expected population with actual"],"line":29,"name":"def comparePopulations =","match":{"location":"karate","arguments":[]},"keyword":"> *","doc_string":{"content_type":"","value":"function() {\n  for (var i = 0; i < expectedPops.length; i++) {\n    var exp = expectedPops[i];\n    var popCode = exp.code.coding[0].code;\n    var expCount = exp.count;\n    var act = actualPops.find(function(p) {\n      return p.code.coding[0].code === popCode;\n    });\n    var actCount = act ? act.count : 0;\n    var match = actCount === expCount;\n    comparisonResults[popCode] = {\n      actual: actCount,\n      expected: expCount,\n      match: match\n    };\n    if (match) {\n      karate.log('  âœ… ' + popCode + ': ' + actCount);\n    } else {\n      karate.log('  âŒ ' + popCode + ': Expected ' + expCount + ', Got ' + actCount);\n      allMatch = false;\n    }\n  }\n  return allMatch;\n}","line":29}},{"name":"def allMatch = comparePopulations()","result":{"duration":28588334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":61,"doc_string":{"content_type":"","value":"11:13:53.431   âœ… initial-population: 6 \n11:13:53.450   âœ… denominator: 4 \n11:13:53.456   âœ… denominator-exclusion: 0 \n11:13:53.458   âœ… denominator-exception: 0 \n11:13:53.458   âœ… numerator: 2 \n11:13:53.458   âœ… numerator-exclusion: 0 \n","line":61}},{"name":"karate.log('\\n' + (allMatch ? 'âœ… All populations match!' : 'âŒ Some populations do not match'))","result":{"duration":432750,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":63,"doc_string":{"content_type":"","value":"11:13:53.459 \nâœ… All populations match! \n","line":63}},{"name":"def measureScoreMatch = true","result":{"duration":95167,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Compare measure score if present"],"keyword":"> *","line":66},{"name":"def actualMeasureScore = actualGroup.measureScore ? actualGroup.measureScore.value : null","result":{"duration":229292,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":67},{"name":"def expectedMeasureScore = expectedGroup.measureScore ? expectedGroup.measureScore.value : null","result":{"duration":361375,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":68},{"name":"def compareMeasureScore =","result":{"duration":3242334,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":70,"doc_string":{"content_type":"","value":"function() {\n  if (expectedMeasureScore === null && actualMeasureScore === null) {\n    karate.log('  â„¹ï¸  No measure score to compare');\n    return true;\n  }\n  if (expectedMeasureScore === null || actualMeasureScore === null) {\n    karate.log('  âŒ Measure score missing in one report');\n    return false;\n  }\n  \/\/ Compare with small tolerance for floating point precision\n  var tolerance = 0.0001;\n  var diff = Math.abs(actualMeasureScore - expectedMeasureScore);\n  var match = diff < tolerance;\n  if (match) {\n    karate.log('  â„¹ï¸  Measure Score: ' + actualMeasureScore.toFixed(4) + ' (matches expected)');\n  } else {\n    karate.log('  âš ï¸  Measure Score: Expected ' + expectedMeasureScore.toFixed(4) + ', Got ' + actualMeasureScore.toFixed(4) + ' (informational only)');\n  }\n  return match;\n}","line":70}},{"name":"def measureScoreMatch = compareMeasureScore()","result":{"duration":842584,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":97,"doc_string":{"content_type":"","value":"11:13:53.464   â„¹ï¸  Measure Score: 0.5000 (matches expected) \n","line":97}},{"name":"def stratifierResults = {}","result":{"duration":206834,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Compare stratifiers if present"],"keyword":"> *","line":100},{"name":"def stratifiersMatch = true","result":{"duration":129834,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":101},{"name":"def actualStratifiers = actualGroup.stratifier || []","result":{"duration":195958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":103},{"name":"def expectedStratifiers = expectedGroup.stratifier || []","result":{"duration":248458,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":104},{"name":"if (expectedStratifiers.length > 0) karate.log('\\nðŸ“Š Comparing Stratifiers...')","result":{"duration":291917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":106,"doc_string":{"content_type":"","value":"11:13:53.465 \nðŸ“Š Comparing Stratifiers... \n","line":106}},{"name":"def compareStratifiers =","result":{"duration":17366125,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":108,"doc_string":{"content_type":"","value":"function() {\n  if (expectedStratifiers.length === 0) return true;\n  var allStratMatch = true;\n  var stratResults = {};\n  for (var i = 0; i < expectedStratifiers.length; i++) {\n    var expStrat = expectedStratifiers[i];\n    var actStrat = actualStratifiers[i];\n    if (!actStrat) {\n      karate.log('  âŒ Stratifier ' + i + ' missing in actual report');\n      allStratMatch = false;\n      continue;\n    }\n    var stratCode = 'stratifier-' + i;\n    try {\n      if (expStrat.code && expStrat.code.length > 0 && expStrat.code[0].coding && expStrat.code[0].coding.length > 0) {\n        stratCode = expStrat.code[0].coding[0].code;\n      }\n    } catch (e) {\n      \/\/ Use default stratifier name\n    }\n    stratResults[stratCode] = { stratum: {} };\n    var expStratum = expStrat.stratum || [];\n    var actStratum = actStrat.stratum || [];\n    for (var j = 0; j < expStratum.length; j++) {\n      var expStrum = expStratum[j];\n      var actStrum = actStratum[j];\n      if (!actStrum) {\n        karate.log('  âŒ Stratum ' + j + ' missing');\n        allStratMatch = false;\n        continue;\n      }\n      var stratValue = expStrum.value ? expStrum.value.text : 'Stratum-' + j;\n      stratResults[stratCode].stratum[stratValue] = {};\n      var expPops = expStrum.population || [];\n      var actPops = actStrum.population || [];\n      for (var k = 0; k < expPops.length; k++) {\n        var expPop = expPops[k];\n        var popCode = expPop.code.coding[0].code;\n        var expCount = expPop.count;\n        var actPop = actPops.find(function(p) {\n          return p.code.coding[0].code === popCode;\n        });\n        var actCount = actPop ? actPop.count : 0;\n        var match = actCount === expCount;\n        stratResults[stratCode].stratum[stratValue][popCode] = {\n          expected: expCount,\n          actual: actCount,\n          match: match\n        };\n        if (match) {\n          karate.log('  âœ… [' + stratValue + '] ' + popCode + ': ' + actCount);\n        } else {\n          karate.log('  âŒ [' + stratValue + '] ' + popCode + ': Expected ' + expCount + ', Got ' + actCount);\n          allStratMatch = false;\n        }\n      }\n    }\n  }\n  stratifierResults = stratResults;\n  return allStratMatch;\n}","line":108}},{"name":"def stratifiersMatch = compareStratifiers()","result":{"duration":16429417,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":188,"doc_string":{"content_type":"","value":"11:13:53.498   âŒ [Stratum-0] initial-population: Expected 0, Got 3 \n11:13:53.498   âŒ [Stratum-0] denominator: Expected 0, Got 2 \n11:13:53.498   âœ… [Stratum-0] denominator-exclusion: 0 \n11:13:53.498   âœ… [Stratum-0] denominator-exception: 0 \n11:13:53.498   âŒ [Stratum-0] numerator: Expected 0, Got 1 \n11:13:53.499   âœ… [Stratum-0] numerator-exclusion: 0 \n","line":188}},{"name":"karate.log('\\n' + (allMatch && stratifiersMatch ? 'âœ… All populations and stratifiers match!' : 'âŒ Some comparisons failed'))","result":{"duration":399625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":190,"doc_string":{"content_type":"","value":"11:13:53.499 \nâŒ Some comparisons failed \n","line":190}},{"name":"karate.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\\n')","result":{"duration":177333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":191,"doc_string":{"content_type":"","value":"11:13:53.499 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n \n","line":191}},{"name":"def overallMatch = allMatch && stratifiersMatch","result":{"duration":152959,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Return comparison result (measure score is informational only, doesn't affect pass\/fail)"],"keyword":"> *","line":194},{"name":"def measureScoreResult = { expected: '#(expectedMeasureScore)', actual: '#(actualMeasureScore)', match: '#(measureScoreMatch)' }","result":{"duration":12221000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":195},{"name":"def comparisonResult = { populations: '#(comparisonResults)', stratifiers: '#(stratifierResults)', measureScore: '#(measureScoreResult)', allMatch: '#(overallMatch)', passed: '#(overallMatch)' }","result":{"duration":5723000,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":196},{"result":{"duration":627917,"status":"passed"},"comments":["# Step 4: Print test summary for terminal visibility"],"line":37,"name":"print ''","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"11:13:53.518 [print]  \n","line":37}},{"name":"print 'â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—'","result":{"duration":1301208,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":38,"doc_string":{"content_type":"","value":"11:13:53.520 [print] â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— \n","line":38}},{"name":"print 'â•‘  TEST RESULT: ' + measureId","result":{"duration":6362333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":39,"doc_string":{"content_type":"","value":"11:13:53.526 [print] â•‘  TEST RESULT: 3ProportionStringCriteria \n","line":39}},{"name":"print 'â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•'","result":{"duration":767625,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":40,"doc_string":{"content_type":"","value":"11:13:53.527 [print] â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• \n","line":40}},{"name":"def populations = comparison.comparisonResult.populations","result":{"duration":691542,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Print all population results dynamically"],"keyword":"*","line":43},{"name":"print ''","result":{"duration":379709,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":44,"doc_string":{"content_type":"","value":"11:13:53.528 [print]  \n","line":44}},{"name":"print 'POPULATIONS:'","result":{"duration":586250,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":45,"doc_string":{"content_type":"","value":"11:13:53.529 [print] POPULATIONS: \n","line":45}},{"name":"def printPopulations =","result":{"duration":1454958,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":46,"doc_string":{"content_type":"","value":"function() {\n  var popKeys = Object.keys(populations);\n  for (var i = 0; i < popKeys.length; i++) {\n    var key = popKeys[i];\n    var pop = populations[key];\n    var icon = pop.match ? 'âœ…' : 'âŒ';\n    var msg = '  ' + icon + ' ' + key + ': Expected=' + pop.expected + ', Actual=' + pop.actual;\n    karate.log(msg);\n    print(msg);\n  }\n}","line":46}},{"name":"eval printPopulations()","result":{"duration":8218333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":60,"doc_string":{"content_type":"","value":"11:13:53.533   âœ… initial-population: Expected=6, Actual=6 \n11:13:53.536   âœ… denominator: Expected=4, Actual=4 \n11:13:53.536   âœ… denominator-exclusion: Expected=0, Actual=0 \n11:13:53.537   âœ… denominator-exception: Expected=0, Actual=0 \n11:13:53.538   âœ… numerator: Expected=2, Actual=2 \n11:13:53.539   âœ… numerator-exclusion: Expected=0, Actual=0 \n","line":60}},{"name":"def stratifiers = comparison.comparisonResult.stratifiers","result":{"duration":336375,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["# Print stratifier results if present"],"keyword":"*","line":63},{"name":"def hasStratifiers = Object.keys(stratifiers).length > 0","result":{"duration":272333,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":64},{"name":"def printStratifiers =","result":{"duration":4298917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":65,"doc_string":{"content_type":"","value":"function() {\n  if (!hasStratifiers) return;\n  print('');\n  print('STRATIFIERS:');\n  var stratKeys = Object.keys(stratifiers);\n  for (var i = 0; i < stratKeys.length; i++) {\n    var stratCode = stratKeys[i];\n    var strat = stratifiers[stratCode];\n    print('  Stratifier: ' + stratCode);\n    var stratumKeys = Object.keys(strat.stratum);\n    for (var j = 0; j < stratumKeys.length; j++) {\n      var stratumValue = stratumKeys[j];\n      var stratum = strat.stratum[stratumValue];\n      print('    [' + stratumValue + ']');\n      var popKeys = Object.keys(stratum);\n      for (var k = 0; k < popKeys.length; k++) {\n        var popCode = popKeys[k];\n        var pop = stratum[popCode];\n        var icon = pop.match ? 'âœ…' : 'âŒ';\n        var msg = '      ' + icon + ' ' + popCode + ': Expected=' + pop.expected + ', Actual=' + pop.actual;\n        print(msg);\n      }\n    }\n  }\n}","line":65}},{"name":"eval printStratifiers()","result":{"duration":1297542,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":96},{"result":{"duration":187166,"status":"passed"},"comments":["# Print overall result"],"line":99,"name":"print ''","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"11:13:53.545 [print]  \n","line":99}},{"name":"def testResult = comparison.comparisonResult.passed ? 'âœ… PASSED - All assertions match!' : 'âŒ FAILED - Some assertions do not match'","result":{"duration":234917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":100},{"name":"print testResult","result":{"duration":236875,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":101,"doc_string":{"content_type":"","value":"11:13:53.546 [print] âŒ FAILED - Some assertions do not match \n","line":101}},{"name":"print ''","result":{"duration":75959,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":102,"doc_string":{"content_type":"","value":"11:13:53.546 [print]  \n","line":102}},{"result":{"duration":432458,"error_message":"did not evaluate to 'true': comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'\nclasspath:features\/measures\/measure-03.feature:105","status":"failed"},"comments":["# Step 5: Assert all populations match"],"line":105,"name":"assert comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'","match":{"location":"karate","arguments":[]},"keyword":"*","doc_string":{"content_type":"","value":"11:13:53.549 classpath:features\/measures\/measure-03.feature:105\n* assert comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'\ndid not evaluate to 'true': comparison.comparisonResult.passed == true || comparison.comparisonResult.passed == 'true'\nclasspath:features\/measures\/measure-03.feature:105\n","line":105}}],"tags":[]}],"name":"features\/measures\/measure-03.feature","description":"Measure 03 - Proportion with String Criteria","id":"measure-03---proportion-with-string-criteria","keyword":"Feature","uri":"features\/measures\/measure-03.feature"}]